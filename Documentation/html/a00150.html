<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Peopletracker: DataLogger</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><img alt="Logo" src="person.png"/></td>
  <td id="projectalign">
   <div id="projectname">Peopletracker<span id="projectnumber">&#160;2.8</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.8 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('a00150.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pub-attribs">Public Attributes</a> &#124;
<a href="a00147.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">DataLogger</div></div>
</div><!--header-->
<div class="contents">
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac811b5e12ce6cb6fc4e7b4dfde282132" id="r_ac811b5e12ce6cb6fc4e7b4dfde282132"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#ac811b5e12ce6cb6fc4e7b4dfde282132">__init__</a> (self, video, video_location=None, video_metadata=None, <a class="el" href="a00150.html#a10d41eee6e85dbc18db528607f7641be">intervention_level</a>=NO_INTVERVENTION_TRACKER, ground_truth_folder=None)</td></tr>
<tr class="separator:ac811b5e12ce6cb6fc4e7b4dfde282132"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1d3c1fa3e44db6ab404e162bd264d00" id="r_af1d3c1fa3e44db6ab404e162bd264d00"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#af1d3c1fa3e44db6ab404e162bd264d00">start_recording</a> (self)</td></tr>
<tr class="memdesc:af1d3c1fa3e44db6ab404e162bd264d00"><td class="mdescLeft">&#160;</td><td class="mdescRight">User input logging starts here #.  <br /></td></tr>
<tr class="separator:af1d3c1fa3e44db6ab404e162bd264d00"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa664a0547aaaf3562a55bc58a1fbc09f" id="r_aa664a0547aaaf3562a55bc58a1fbc09f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#aa664a0547aaaf3562a55bc58a1fbc09f">end_recording</a> (self)</td></tr>
<tr class="memdesc:aa664a0547aaaf3562a55bc58a1fbc09f"><td class="mdescLeft">&#160;</td><td class="mdescRight">ends recording timer  <br /></td></tr>
<tr class="separator:aa664a0547aaaf3562a55bc58a1fbc09f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18b9423164131f6a5cb5cb80069e0d2f" id="r_a18b9423164131f6a5cb5cb80069e0d2f"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a18b9423164131f6a5cb5cb80069e0d2f">start_timer</a> (self, timer_id)</td></tr>
<tr class="separator:a18b9423164131f6a5cb5cb80069e0d2f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a23bef5dbc59c116cc9a20754f9ee8f33" id="r_a23bef5dbc59c116cc9a20754f9ee8f33"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a23bef5dbc59c116cc9a20754f9ee8f33">get_time_elapsed</a> (self, timer_id)</td></tr>
<tr class="separator:a23bef5dbc59c116cc9a20754f9ee8f33"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b88ea2fc7ce49ef394dbdc6d40c8cf1" id="r_a8b88ea2fc7ce49ef394dbdc6d40c8cf1"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a8b88ea2fc7ce49ef394dbdc6d40c8cf1">end_timer</a> (self, timer_id)</td></tr>
<tr class="separator:a8b88ea2fc7ce49ef394dbdc6d40c8cf1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2df6891576c591b86e3bf2e6a86e380e" id="r_a2df6891576c591b86e3bf2e6a86e380e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a2df6891576c591b86e3bf2e6a86e380e">adjustment</a> (self, frame_number, from_box, timer_id, tracker_id, intervention_type=&quot;USER&quot;, to_box=None)</td></tr>
<tr class="separator:a2df6891576c591b86e3bf2e6a86e380e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a640807eb3a47f21d60f4901383f9ab7e" id="r_a640807eb3a47f21d60f4901383f9ab7e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a640807eb3a47f21d60f4901383f9ab7e">end_adjustment</a> (self, to_box, timer_id)</td></tr>
<tr class="separator:a640807eb3a47f21d60f4901383f9ab7e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a147ee854723ad7ce299aca8f95599f2c" id="r_a147ee854723ad7ce299aca8f95599f2c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a147ee854723ad7ce299aca8f95599f2c">paused</a> (self, frame_number, pause_type, timer_id, tracker_id)</td></tr>
<tr class="separator:a147ee854723ad7ce299aca8f95599f2c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af8bf41368400983fc278bfa3b0fa9500" id="r_af8bf41368400983fc278bfa3b0fa9500"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#af8bf41368400983fc278bfa3b0fa9500">end_pause</a> (self)</td></tr>
<tr class="separator:af8bf41368400983fc278bfa3b0fa9500"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a286d618835528c9cf90218dd6cd8e546" id="r_a286d618835528c9cf90218dd6cd8e546"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a286d618835528c9cf90218dd6cd8e546">slider_moved</a> (self, frame_from, timer_id, tracker_id)</td></tr>
<tr class="separator:a286d618835528c9cf90218dd6cd8e546"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae8fb478549eb82488a7f1029b1f2e74c" id="r_ae8fb478549eb82488a7f1029b1f2e74c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#ae8fb478549eb82488a7f1029b1f2e74c">end_slider</a> (self, frame_to, timer_id)</td></tr>
<tr class="separator:ae8fb478549eb82488a7f1029b1f2e74c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5f192965f59bcadd25871fc878cd1962" id="r_a5f192965f59bcadd25871fc878cd1962"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a5f192965f59bcadd25871fc878cd1962">record_errors</a> (self, frame)</td></tr>
<tr class="separator:a5f192965f59bcadd25871fc878cd1962"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1f7f6db786512a4f60a0bf40f3dfb414" id="r_a1f7f6db786512a4f60a0bf40f3dfb414"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a1f7f6db786512a4f60a0bf40f3dfb414">get_tracker_score</a> (self)</td></tr>
<tr class="separator:a1f7f6db786512a4f60a0bf40f3dfb414"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2c83fe18962be0a9264b914a3810a30e" id="r_a2c83fe18962be0a9264b914a3810a30e"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a2c83fe18962be0a9264b914a3810a30e">get_video_characteristics</a> (self, video=None)</td></tr>
<tr class="memdesc:a2c83fe18962be0a9264b914a3810a30e"><td class="mdescLeft">&#160;</td><td class="mdescRight">VIDEO COMPLEXITY STARTS HERE #.  <br /></td></tr>
<tr class="separator:a2c83fe18962be0a9264b914a3810a30e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad63c3dc24a49baaad8a67403006f0241" id="r_ad63c3dc24a49baaad8a67403006f0241"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#ad63c3dc24a49baaad8a67403006f0241">illumination</a> (self, frame)</td></tr>
<tr class="separator:ad63c3dc24a49baaad8a67403006f0241"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af0a6b39e1a4c8ba3a00d790253aab15c" id="r_af0a6b39e1a4c8ba3a00d790253aab15c"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#af0a6b39e1a4c8ba3a00d790253aab15c">optical_flow</a> (self, frame)</td></tr>
<tr class="separator:af0a6b39e1a4c8ba3a00d790253aab15c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae735fff941e047218ea858337e007484" id="r_ae735fff941e047218ea858337e007484"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#ae735fff941e047218ea858337e007484">optical_flow_pan</a> (self, flow, dominance_threshold=0.4, magnitude_threshold=0.5)</td></tr>
<tr class="separator:ae735fff941e047218ea858337e007484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3cff34c024334cefe903de3058e3a991" id="r_a3cff34c024334cefe903de3058e3a991"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a3cff34c024334cefe903de3058e3a991">optical_flow_zoom</a> (self, flow, dominance_threshold=0.7, magnitude_threshold=1)</td></tr>
<tr class="separator:a3cff34c024334cefe903de3058e3a991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7e1305e3e399383a4b749ba2244f5943" id="r_a7e1305e3e399383a4b749ba2244f5943"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a7e1305e3e399383a4b749ba2244f5943">ground_truth_characteristics</a> (self, frame_num)</td></tr>
<tr class="separator:a7e1305e3e399383a4b749ba2244f5943"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af7dc8315b04b8b19f07ef5b7dab34782" id="r_af7dc8315b04b8b19f07ef5b7dab34782"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#af7dc8315b04b8b19f07ef5b7dab34782">objects_occluded</a> (self, folder_path, fps)</td></tr>
<tr class="separator:af7dc8315b04b8b19f07ef5b7dab34782"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a94f679a64f572ad08936323f8cb85b5b" id="r_a94f679a64f572ad08936323f8cb85b5b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a94f679a64f572ad08936323f8cb85b5b">check_intervention_level</a> (self)</td></tr>
<tr class="separator:a94f679a64f572ad08936323f8cb85b5b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a141cad1e6d50d6c15b02caa0458ac193" id="r_a141cad1e6d50d6c15b02caa0458ac193"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a141cad1e6d50d6c15b02caa0458ac193">export_charactoristics</a> (self, file_path)</td></tr>
<tr class="separator:a141cad1e6d50d6c15b02caa0458ac193"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a346584b03fbdc533d0a329c2aed67605" id="r_a346584b03fbdc533d0a329c2aed67605"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a346584b03fbdc533d0a329c2aed67605">export_activity</a> (self, file_path)</td></tr>
<tr class="separator:a346584b03fbdc533d0a329c2aed67605"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac17ffb0fb99926c99dcaab63b5335243" id="r_ac17ffb0fb99926c99dcaab63b5335243"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#ac17ffb0fb99926c99dcaab63b5335243">plot_chars_df</a> (self)</td></tr>
<tr class="separator:ac17ffb0fb99926c99dcaab63b5335243"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8662a7e19ab5209fd49a46a6d600885b" id="r_a8662a7e19ab5209fd49a46a6d600885b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="a00150.html#a8662a7e19ab5209fd49a46a6d600885b">occuding_objects</a> (self, occluding_tracks_csv, occluding_threshold=0.8)</td></tr>
<tr class="separator:a8662a7e19ab5209fd49a46a6d600885b"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-attribs" name="pub-attribs"></a>
Public Attributes</h2></td></tr>
<tr class="memitem:a10d41eee6e85dbc18db528607f7641be" id="r_a10d41eee6e85dbc18db528607f7641be"><td class="memItemLeft" align="right" valign="top"><a id="a10d41eee6e85dbc18db528607f7641be" name="a10d41eee6e85dbc18db528607f7641be"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>intervention_level</b></td></tr>
<tr class="memdesc:a10d41eee6e85dbc18db528607f7641be"><td class="mdescLeft">&#160;</td><td class="mdescRight">String representing constants. <br /></td></tr>
<tr class="separator:a10d41eee6e85dbc18db528607f7641be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9c7ab704a0e99c8f10dd2be7211ef18a" id="r_a9c7ab704a0e99c8f10dd2be7211ef18a"><td class="memItemLeft" align="right" valign="top"><a id="a9c7ab704a0e99c8f10dd2be7211ef18a" name="a9c7ab704a0e99c8f10dd2be7211ef18a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>ground_truth_folder</b></td></tr>
<tr class="separator:a9c7ab704a0e99c8f10dd2be7211ef18a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a2db313fabca57504d9dc776e46b304f6" id="r_a2db313fabca57504d9dc776e46b304f6"><td class="memItemLeft" align="right" valign="top"><a id="a2db313fabca57504d9dc776e46b304f6" name="a2db313fabca57504d9dc776e46b304f6"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>te</b></td></tr>
<tr class="separator:a2db313fabca57504d9dc776e46b304f6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9cfcb724bbf4bae5f97bc17cf58cf522" id="r_a9cfcb724bbf4bae5f97bc17cf58cf522"><td class="memItemLeft" align="right" valign="top"><a id="a9cfcb724bbf4bae5f97bc17cf58cf522" name="a9cfcb724bbf4bae5f97bc17cf58cf522"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>metadata</b></td></tr>
<tr class="separator:a9cfcb724bbf4bae5f97bc17cf58cf522"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb2fd43e6da5bee9edb1e75519db7a3d" id="r_abb2fd43e6da5bee9edb1e75519db7a3d"><td class="memItemLeft" align="right" valign="top"><a id="abb2fd43e6da5bee9edb1e75519db7a3d" name="abb2fd43e6da5bee9edb1e75519db7a3d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>video</b></td></tr>
<tr class="separator:abb2fd43e6da5bee9edb1e75519db7a3d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3197c2b2aa49f8dfcf7df21494fb9a3a" id="r_a3197c2b2aa49f8dfcf7df21494fb9a3a"><td class="memItemLeft" align="right" valign="top"><a id="a3197c2b2aa49f8dfcf7df21494fb9a3a" name="a3197c2b2aa49f8dfcf7df21494fb9a3a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>video_id</b></td></tr>
<tr class="separator:a3197c2b2aa49f8dfcf7df21494fb9a3a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9a6a7b2fcdc9047119bb00f6bb2a2b99" id="r_a9a6a7b2fcdc9047119bb00f6bb2a2b99"><td class="memItemLeft" align="right" valign="top"><a id="a9a6a7b2fcdc9047119bb00f6bb2a2b99" name="a9a6a7b2fcdc9047119bb00f6bb2a2b99"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>video_location</b></td></tr>
<tr class="separator:a9a6a7b2fcdc9047119bb00f6bb2a2b99"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af1379a970f9829fbb1ab49d135d1e484" id="r_af1379a970f9829fbb1ab49d135d1e484"><td class="memItemLeft" align="right" valign="top"><a id="af1379a970f9829fbb1ab49d135d1e484" name="af1379a970f9829fbb1ab49d135d1e484"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>start_time_id</b></td></tr>
<tr class="separator:af1379a970f9829fbb1ab49d135d1e484"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a09ecb172e1edc06d1724fd4deb21977a" id="r_a09ecb172e1edc06d1724fd4deb21977a"><td class="memItemLeft" align="right" valign="top"><a id="a09ecb172e1edc06d1724fd4deb21977a" name="a09ecb172e1edc06d1724fd4deb21977a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>previous_frame</b></td></tr>
<tr class="separator:a09ecb172e1edc06d1724fd4deb21977a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5da338488b54f4aaf26d9ddad6001c60" id="r_a5da338488b54f4aaf26d9ddad6001c60"><td class="memItemLeft" align="right" valign="top"><a id="a5da338488b54f4aaf26d9ddad6001c60" name="a5da338488b54f4aaf26d9ddad6001c60"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>logging_dict</b></td></tr>
<tr class="separator:a5da338488b54f4aaf26d9ddad6001c60"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8ae661c9fde21bfa7519d2fae6edf0bb" id="r_a8ae661c9fde21bfa7519d2fae6edf0bb"><td class="memItemLeft" align="right" valign="top"><a id="a8ae661c9fde21bfa7519d2fae6edf0bb" name="a8ae661c9fde21bfa7519d2fae6edf0bb"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>timer_dict</b></td></tr>
<tr class="separator:a8ae661c9fde21bfa7519d2fae6edf0bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a89e28442ff2c5633d3dc7c69ed77d11e" id="r_a89e28442ff2c5633d3dc7c69ed77d11e"><td class="memItemLeft" align="right" valign="top"><a id="a89e28442ff2c5633d3dc7c69ed77d11e" name="a89e28442ff2c5633d3dc7c69ed77d11e"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>paused_data</b></td></tr>
<tr class="separator:a89e28442ff2c5633d3dc7c69ed77d11e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad0e8ba2bf35f2c5313ee1283690a9a5a" id="r_ad0e8ba2bf35f2c5313ee1283690a9a5a"><td class="memItemLeft" align="right" valign="top"><a id="ad0e8ba2bf35f2c5313ee1283690a9a5a" name="ad0e8ba2bf35f2c5313ee1283690a9a5a"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>slider_data</b></td></tr>
<tr class="separator:ad0e8ba2bf35f2c5313ee1283690a9a5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1b9ffb1083895c281197dbf7d72dc285" id="r_a1b9ffb1083895c281197dbf7d72dc285"><td class="memItemLeft" align="right" valign="top"><a id="a1b9ffb1083895c281197dbf7d72dc285" name="a1b9ffb1083895c281197dbf7d72dc285"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>adjust_data</b></td></tr>
<tr class="separator:a1b9ffb1083895c281197dbf7d72dc285"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afae84ae851c5cb3f6bea8d07dae48838" id="r_afae84ae851c5cb3f6bea8d07dae48838"><td class="memItemLeft" align="right" valign="top"><a id="afae84ae851c5cb3f6bea8d07dae48838" name="afae84ae851c5cb3f6bea8d07dae48838"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>logger_df</b></td></tr>
<tr class="separator:afae84ae851c5cb3f6bea8d07dae48838"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aed5fc6f05a53f1d31ee01d2e3f39e23d" id="r_aed5fc6f05a53f1d31ee01d2e3f39e23d"><td class="memItemLeft" align="right" valign="top"><a id="aed5fc6f05a53f1d31ee01d2e3f39e23d" name="aed5fc6f05a53f1d31ee01d2e3f39e23d"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>video_info_df</b></td></tr>
<tr class="separator:aed5fc6f05a53f1d31ee01d2e3f39e23d"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ac811b5e12ce6cb6fc4e7b4dfde282132" name="ac811b5e12ce6cb6fc4e7b4dfde282132"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac811b5e12ce6cb6fc4e7b4dfde282132">&#9670;&#160;</a></span>__init__()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">__init__ </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_location</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video_metadata</em> = <code>None</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intervention_level</em> = <code>NO_INTVERVENTION_TRACKER</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>ground_truth_folder</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">   26</span>    <span class="keyword">def </span>__init__(self, video, video_location=None, video_metadata=None, intervention_level=NO_INTVERVENTION_TRACKER, ground_truth_folder=None):</div>
<div class="line"><span class="lineno">   27</span>        </div>
<div class="line"><span class="lineno">   28</span>        live_video = <span class="keyword">False</span></div>
<div class="line"><span class="lineno">   29</span>        <span class="comment">#assume number is live camera</span></div>
<div class="line"><span class="lineno">   30</span>        <span class="keywordflow">if</span> type(video) == type(0):</div>
<div class="line"><span class="lineno">   31</span>            live_video = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">   32</span>        </div>
<div class="line"><span class="lineno">   33</span>        </div>
<div class="line"><span class="lineno">   34</span>        self.intervention_level = intervention_level</div>
<div class="line"><span class="lineno">   35</span>        self.ground_truth_folder = ground_truth_folder</div>
<div class="line"><span class="lineno">   36</span>        self.te = evaluate.tracker_evaluation()</div>
<div class="line"><span class="lineno">   37</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> live_video:</div>
<div class="line"><span class="lineno">   38</span>            self.te.fps = float(video_metadata[<span class="stringliteral">&#39;QuickTime:VideoFrameRate&#39;</span>])</div>
<div class="line"><span class="lineno">   39</span>        <span class="keywordflow">else</span>: </div>
<div class="line"><span class="lineno">   40</span>            self.te.fps = 30</div>
<div class="line"><span class="lineno">   41</span> </div>
<div class="line"><span class="lineno">   42</span>        <span class="keywordflow">if</span> self.ground_truth_folder <span class="keywordflow">is</span> <span class="keywordtype">None</span> <span class="keywordflow">and</span> <span class="keywordflow">not</span> live_video:</div>
<div class="line"><span class="lineno">   43</span>            <span class="comment">#Check the same folder and see if it works</span></div>
<div class="line"><span class="lineno">   44</span>            print(<span class="stringliteral">&quot;Checking to see if ground truths are in the same folder as video...&quot;</span>)</div>
<div class="line"><span class="lineno">   45</span>            self.ground_truth_folder = os.path.dirname(video) + <span class="stringliteral">&quot;/&quot;</span></div>
<div class="line"><span class="lineno">   46</span>            self.te.load_json(self.ground_truth_folder, fps=int(self.te.fps))</div>
<div class="line"><span class="lineno">   47</span>            </div>
<div class="line"><span class="lineno">   48</span>            <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.te.ground_truth_dict:</div>
<div class="line"><span class="lineno">   49</span>                print(<span class="stringliteral">&quot;Checking Adjacent folder with the same name...&quot;</span>)</div>
<div class="line"><span class="lineno">   50</span>                self.ground_truth_folder = os.path.dirname(video) + <span class="stringliteral">&quot;/&quot;</span> + os.path.basename(video)[:-4] + <span class="stringliteral">&quot;/&quot;</span></div>
<div class="line"><span class="lineno">   51</span>                self.te.load_json(self.ground_truth_folder, fps=int(self.te.fps))</div>
<div class="line"><span class="lineno">   52</span>        </div>
<div class="line"><span class="lineno">   53</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> self.te.ground_truth_dict:</div>
<div class="line"><span class="lineno">   54</span>            print(<span class="stringliteral">&quot;Could not find ground truths&quot;</span>)</div>
<div class="line"><span class="lineno">   55</span> </div>
<div class="line"><span class="lineno">   56</span>        self.metadata = video_metadata</div>
<div class="line"><span class="lineno">   57</span>        self.video = video</div>
<div class="line"><span class="lineno">   58</span>        </div>
<div class="line"><span class="lineno">   59</span>        <span class="keywordflow">if</span> <span class="keywordflow">not</span> live_video:</div>
<div class="line"><span class="lineno">   60</span>            self.video_id = os.path.basename(video)[:-4]</div>
<div class="line"><span class="lineno">   61</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">   62</span>            self.video_id = -1</div>
<div class="line"><span class="lineno">   63</span> </div>
<div class="line"><span class="lineno">   64</span>        self.video_location = video_location</div>
<div class="line"><span class="lineno">   65</span> </div>
<div class="line"><span class="lineno">   66</span>        self.start_time_id = <span class="stringliteral">&quot;START_STOP&quot;</span></div>
<div class="line"><span class="lineno">   67</span> </div>
<div class="line"><span class="lineno">   68</span>        self.previous_frame = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">   69</span>        self.logging_dict = {}</div>
<div class="line"><span class="lineno">   70</span>        self.timer_dict = {}</div>
<div class="line"><span class="lineno">   71</span> </div>
<div class="line"><span class="lineno">   72</span>        self.paused_data = {}</div>
<div class="line"><span class="lineno">   73</span>        self.slider_data = {}</div>
<div class="line"><span class="lineno">   74</span>        self.adjust_data = {}</div>
<div class="line"><span class="lineno">   75</span> </div>
<div class="line"><span class="lineno">   76</span> </div>
<div class="line"><span class="lineno">   77</span>        self.logger_df = pd.DataFrame(columns =[<span class="stringliteral">&#39;Frame_Number&#39;</span>,</div>
<div class="line"><span class="lineno">   78</span>                                                <span class="stringliteral">&#39;Event_Time&#39;</span>,</div>
<div class="line"><span class="lineno">   79</span>                                                <span class="stringliteral">&#39;Event_Duration&#39;</span>,</div>
<div class="line"><span class="lineno">   80</span>                                                <span class="stringliteral">&#39;Event_Type&#39;</span>,</div>
<div class="line"><span class="lineno">   81</span>                                                <span class="stringliteral">&#39;Event_Value&#39;</span>,</div>
<div class="line"><span class="lineno">   82</span>                                                <span class="stringliteral">&#39;Intervention_Level&#39;</span>,</div>
<div class="line"><span class="lineno">   83</span>                                                <span class="stringliteral">&#39;Intervention_Type&#39;</span>,</div>
<div class="line"><span class="lineno">   84</span>                                                <span class="stringliteral">&#39;Tracker_ID&#39;</span>]) <span class="comment"># NOTE: Tracker ID is one of either: Selected (And active Tracker), or tracker acted upon by additional methods.</span></div>
<div class="line"><span class="lineno">   85</span>                                                               <span class="comment"># This means that all USER Intervention_Types, the tracker_ID is the current tracker</span></div>
<div class="line"><span class="lineno">   86</span>                                                               <span class="comment"># When Kalman, Regressuion or MRCNN make changes, it does not need to be the current tracker selected. </span></div>
<div class="line"><span class="lineno">   87</span> </div>
<div class="line"><span class="lineno">   88</span>        self.video_info_df = pd.DataFrame(columns=[ <span class="stringliteral">&#39;Frame_Number&#39;</span>, </div>
<div class="line"><span class="lineno">   89</span>                                                    <span class="stringliteral">&#39;Mean_Illumination&#39;</span>, </div>
<div class="line"><span class="lineno">   90</span>                                                    <span class="stringliteral">&#39;Std_Illumination&#39;</span>, </div>
<div class="line"><span class="lineno">   91</span> </div>
<div class="line"><span class="lineno">   92</span>                                                    <span class="stringliteral">&#39;Mean_Opticalflow&#39;</span>, </div>
<div class="line"><span class="lineno">   93</span>                                                    <span class="stringliteral">&#39;Median_Opticalflow&#39;</span>,</div>
<div class="line"><span class="lineno">   94</span>                                                    <span class="stringliteral">&#39;Mean_Magnitude_Opticalflow&#39;</span>,</div>
<div class="line"><span class="lineno">   95</span>                                                    <span class="stringliteral">&#39;Std_Opticalflow&#39;</span>,</div>
<div class="line"><span class="lineno">   96</span> </div>
<div class="line"><span class="lineno">   97</span>                                                    <span class="stringliteral">&#39;Zoom_Opticalflow&#39;</span>,</div>
<div class="line"><span class="lineno">   98</span>                                                    <span class="stringliteral">&#39;Zoom_Dominance_Percent&#39;</span>,</div>
<div class="line"><span class="lineno">   99</span>                                                    <span class="stringliteral">&#39;Zoom_Dominance_Threshold&#39;</span>,</div>
<div class="line"><span class="lineno">  100</span>                                                    <span class="stringliteral">&#39;Zoom_Mean_Magnitude_Threshold&#39;</span>,</div>
<div class="line"><span class="lineno">  101</span> </div>
<div class="line"><span class="lineno">  102</span>                                                    <span class="stringliteral">&#39;Pan_Opticalflow&#39;</span>,</div>
<div class="line"><span class="lineno">  103</span>                                                    <span class="stringliteral">&#39;Pan_Dominance_Percent&#39;</span>,</div>
<div class="line"><span class="lineno">  104</span>                                                    <span class="stringliteral">&#39;Pan_Dominance_Threshold&#39;</span>,</div>
<div class="line"><span class="lineno">  105</span>                                                    <span class="stringliteral">&#39;Pan_Mean_Magnitude_Threshold&#39;</span>,</div>
<div class="line"><span class="lineno">  106</span>                                                    </div>
<div class="line"><span class="lineno">  107</span>                                                    <span class="stringliteral">&#39;Ground_Truth_Count&#39;</span>,</div>
<div class="line"><span class="lineno">  108</span>                                                    <span class="stringliteral">&#39;Occluded_Ground_Truths_Count&#39;</span>,</div>
<div class="line"><span class="lineno">  109</span>                                                    <span class="stringliteral">&#39;Entering_Ground_Truths&#39;</span>,</div>
<div class="line"><span class="lineno">  110</span>                                                    <span class="stringliteral">&#39;Entering_Ground_Truths_Count&#39;</span>,</div>
<div class="line"><span class="lineno">  111</span>                                                    <span class="stringliteral">&#39;Exiting_Ground_Truths&#39;</span>,</div>
<div class="line"><span class="lineno">  112</span>                                                    <span class="stringliteral">&#39;Exiting_Ground_Truths_Count&#39;</span>,</div>
<div class="line"><span class="lineno">  113</span>                                                    <span class="stringliteral">&#39;Ground_Truth_Labels&#39;</span>,</div>
<div class="line"><span class="lineno">  114</span>                                                    <span class="stringliteral">&#39;Ground_Truth_Areas&#39;</span>,</div>
<div class="line"><span class="lineno">  115</span>                                                    <span class="stringliteral">&#39;Ground_Truth_Heights&#39;</span>,</div>
<div class="line"><span class="lineno">  116</span>                                                    <span class="stringliteral">&#39;Ground_Truth_Widths&#39;</span>,</div>
<div class="line"><span class="lineno">  117</span> </div>
<div class="line"><span class="lineno">  118</span>                                                    <span class="stringliteral">&#39;Video_ID&#39;</span>, </div>
<div class="line"><span class="lineno">  119</span>                                                    <span class="stringliteral">&#39;Video_Location&#39;</span>])</div>
</div><!-- fragment -->
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a2df6891576c591b86e3bf2e6a86e380e" name="a2df6891576c591b86e3bf2e6a86e380e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2df6891576c591b86e3bf2e6a86e380e">&#9670;&#160;</a></span>adjustment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">adjustment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>from_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracker_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>intervention_type</em> = <code>&quot;USER&quot;</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>to_box</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records the frame number and locations where the tracker is moved from and to.

Records what made the adjustment.
    
    Human - If the user made the adjustment
    
    Model - If the MaskRCNN model made the automatic adjustment
</pre> <div class="fragment"><div class="line"><span class="lineno">  169</span>    <span class="keyword">def </span>adjustment(self, frame_number, from_box, timer_id, tracker_id, intervention_type=&quot;USER&quot;, to_box=None):</div>
<div class="line"><span class="lineno">  170</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  171</span><span class="stringliteral">        Records the frame number and locations where the tracker is moved from and to.</span></div>
<div class="line"><span class="lineno">  172</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  173</span><span class="stringliteral">        Records what made the adjustment.</span></div>
<div class="line"><span class="lineno">  174</span><span class="stringliteral">            </span></div>
<div class="line"><span class="lineno">  175</span><span class="stringliteral">            Human - If the user made the adjustment</span></div>
<div class="line"><span class="lineno">  176</span><span class="stringliteral">            </span></div>
<div class="line"><span class="lineno">  177</span><span class="stringliteral">            Model - If the MaskRCNN model made the automatic adjustment</span></div>
<div class="line"><span class="lineno">  178</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  179</span> </div>
<div class="line"><span class="lineno">  180</span>        time_started = self.start_timer(timer_id)</div>
<div class="line"><span class="lineno">  181</span>        data = [frame_number,</div>
<div class="line"><span class="lineno">  182</span>        time_started,</div>
<div class="line"><span class="lineno">  183</span>        0,</div>
<div class="line"><span class="lineno">  184</span>        <span class="stringliteral">&quot;Assignment&quot;</span>,</div>
<div class="line"><span class="lineno">  185</span>        str(from_box),</div>
<div class="line"><span class="lineno">  186</span>        self.intervention_level,</div>
<div class="line"><span class="lineno">  187</span>        intervention_type,</div>
<div class="line"><span class="lineno">  188</span>        tracker_id</div>
<div class="line"><span class="lineno">  189</span>        ]</div>
<div class="line"><span class="lineno">  190</span>        self.adjust_data[timer_id] = data</div>
<div class="line"><span class="lineno">  191</span> </div>
<div class="line"><span class="lineno">  192</span>        <span class="keywordflow">if</span> to_box:</div>
<div class="line"><span class="lineno">  193</span>            self.end_adjustment(to_box, timer_id)</div>
<div class="line"><span class="lineno">  194</span> </div>
<div class="line"><span class="lineno">  195</span>        </div>
<div class="line"><span class="lineno">  196</span>        <span class="comment"># print(self.logger_df)</span></div>
<div class="line"><span class="lineno">  197</span>    </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.adjust_data, <a class="el" href="a00150.html#a640807eb3a47f21d60f4901383f9ab7e">DataLogger.end_adjustment()</a>, <a class="el" href="a00150.html#a10d41eee6e85dbc18db528607f7641be">DataLogger.intervention_level</a>, and <a class="el" href="a00150.html#a18b9423164131f6a5cb5cb80069e0d2f">DataLogger.start_timer()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a2df6891576c591b86e3bf2e6a86e380e_cgraph.png" border="0" usemap="#aa00150_a2df6891576c591b86e3bf2e6a86e380e_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a94f679a64f572ad08936323f8cb85b5b" name="a94f679a64f572ad08936323f8cb85b5b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a94f679a64f572ad08936323f8cb85b5b">&#9670;&#160;</a></span>check_intervention_level()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">check_intervention_level </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  585</span>    <span class="keyword">def </span>check_intervention_level(self):</div>
<div class="line"><span class="lineno">  586</span>        intervention = pd.unique(self.logger_df[<span class="stringliteral">&#39;Intervention_Type&#39;</span>])</div>
<div class="line"><span class="lineno">  587</span>        <span class="keywordflow">if</span> <span class="stringliteral">&quot;USER&quot;</span> <span class="keywordflow">in</span> intervention:</div>
<div class="line"><span class="lineno">  588</span>            self.intervention_level = HUMAN_INTERVENTION</div>
<div class="line"><span class="lineno">  589</span> </div>
<div class="line"><span class="lineno">  590</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;KALMAN&quot;</span> <span class="keywordflow">in</span> intervention <span class="keywordflow">or</span> <span class="stringliteral">&quot;REGRESSION&quot;</span> <span class="keywordflow">in</span> intervention:</div>
<div class="line"><span class="lineno">  591</span>                self.intervention_level = HUMAN_INTERVENTION_REGRESSION_KALMAN</div>
<div class="line"><span class="lineno">  592</span>            </div>
<div class="line"><span class="lineno">  593</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;MRCNN&quot;</span> <span class="keywordflow">in</span> intervention:</div>
<div class="line"><span class="lineno">  594</span>                    self.intervention_level = HUMAN_INTERVENTION_MRCNN_KALMAN_REGRESSION</div>
<div class="line"><span class="lineno">  595</span> </div>
<div class="line"><span class="lineno">  596</span> </div>
<div class="line"><span class="lineno">  597</span>            <span class="keywordflow">if</span> <span class="stringliteral">&quot;MRCNN&quot;</span> <span class="keywordflow">in</span> intervention:</div>
<div class="line"><span class="lineno">  598</span>                self.intervention_level = HUMAN_INTERVENTION_MCRNN</div>
<div class="line"><span class="lineno">  599</span> </div>
<div class="line"><span class="lineno">  600</span>                <span class="keywordflow">if</span> <span class="stringliteral">&quot;KALMAN&quot;</span> <span class="keywordflow">in</span> intervention <span class="keywordflow">or</span> <span class="stringliteral">&quot;REGRESSION&quot;</span>:</div>
<div class="line"><span class="lineno">  601</span>                    self.intervention_level = HUMAN_INTERVENTION_MRCNN_KALMAN_REGRESSION</div>
<div class="line"><span class="lineno">  602</span>        </div>
<div class="line"><span class="lineno">  603</span>        <span class="comment"># If there is no human intervention</span></div>
<div class="line"><span class="lineno">  604</span>        <span class="keywordflow">elif</span> <span class="stringliteral">&quot;MRCNN&quot;</span> <span class="keywordflow">in</span> intervention:</div>
<div class="line"><span class="lineno">  605</span>            self.intervention_level = NO_INTERVENTION_MODEL</div>
<div class="line"><span class="lineno">  606</span>        </div>
<div class="line"><span class="lineno">  607</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  608</span>            self.intervention_level = NO_INTVERVENTION_TRACKER</div>
<div class="line"><span class="lineno">  609</span> </div>
<div class="line"><span class="lineno">  610</span>        <span class="keywordflow">return</span> self.intervention_level</div>
<div class="line"><span class="lineno">  611</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00150.html#af7dc8315b04b8b19f07ef5b7dab34782">DataLogger.objects_occluded()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a94f679a64f572ad08936323f8cb85b5b_icgraph.png" border="0" usemap="#aa00150_a94f679a64f572ad08936323f8cb85b5b_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a640807eb3a47f21d60f4901383f9ab7e" name="a640807eb3a47f21d60f4901383f9ab7e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a640807eb3a47f21d60f4901383f9ab7e">&#9670;&#160;</a></span>end_adjustment()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end_adjustment </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>to_box</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records the adjustment when final changes are made. This contributes final location and duration.
</pre> <div class="fragment"><div class="line"><span class="lineno">  198</span>    <span class="keyword">def </span>end_adjustment(self, to_box, timer_id):</div>
<div class="line"><span class="lineno">  199</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  200</span><span class="stringliteral">        Records the adjustment when final changes are made. This contributes final location and duration.</span></div>
<div class="line"><span class="lineno">  201</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  202</span>        duration = self.get_time_elapsed(timer_id)</div>
<div class="line"><span class="lineno">  203</span>        data = self.adjust_data[timer_id]</div>
<div class="line"><span class="lineno">  204</span>        data[2] = duration</div>
<div class="line"><span class="lineno">  205</span> </div>
<div class="line"><span class="lineno">  206</span>        data[4] = str(data[4]) + str(to_box)</div>
<div class="line"><span class="lineno">  207</span>        self.logger_df.loc[self.logger_df.shape[0]] = data</div>
<div class="line"><span class="lineno">  208</span> </div>
<div class="line"><span class="lineno">  209</span> </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.adjust_data, <a class="el" href="a00150.html#a23bef5dbc59c116cc9a20754f9ee8f33">DataLogger.get_time_elapsed()</a>, and DataLogger.logger_df.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#a2df6891576c591b86e3bf2e6a86e380e">DataLogger.adjustment()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a640807eb3a47f21d60f4901383f9ab7e_cgraph.png" border="0" usemap="#aa00150_a640807eb3a47f21d60f4901383f9ab7e_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a640807eb3a47f21d60f4901383f9ab7e_icgraph.png" border="0" usemap="#aa00150_a640807eb3a47f21d60f4901383f9ab7e_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="af8bf41368400983fc278bfa3b0fa9500" name="af8bf41368400983fc278bfa3b0fa9500"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af8bf41368400983fc278bfa3b0fa9500">&#9670;&#160;</a></span>end_pause()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end_pause </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">After paused() is called, end_pause is used to end the paused action and add the duration to the logger.
</pre> <div class="fragment"><div class="line"><span class="lineno">  232</span>    <span class="keyword">def </span>end_pause(self):</div>
<div class="line"><span class="lineno">  233</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  234</span><span class="stringliteral">        After paused() is called, end_pause is used to end the paused action and add the duration to the logger.</span></div>
<div class="line"><span class="lineno">  235</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  236</span>        <span class="keywordflow">if</span> self.paused_data:</div>
<div class="line"><span class="lineno">  237</span>            <span class="keywordflow">for</span> pause_ids <span class="keywordflow">in</span> self.paused_data.keys():</div>
<div class="line"><span class="lineno">  238</span>                <span class="keywordflow">if</span> pause_ids <span class="keywordflow">is</span> <span class="keywordflow">not</span> self.start_time_id:</div>
<div class="line"><span class="lineno">  239</span>                    <span class="comment"># print(pause_ids)</span></div>
<div class="line"><span class="lineno">  240</span>                    self.end_timer(pause_ids)</div>
<div class="line"><span class="lineno">  241</span>                    duration = self.get_time_elapsed(pause_ids)</div>
<div class="line"><span class="lineno">  242</span>                    data = self.paused_data[pause_ids]</div>
<div class="line"><span class="lineno">  243</span>                    data[2] = duration</div>
<div class="line"><span class="lineno">  244</span>                    self.logger_df.loc[self.logger_df.shape[0]] = data</div>
<div class="line"><span class="lineno">  245</span>                </div>
<div class="line"><span class="lineno">  246</span>                <span class="comment"># print(self.logger_df)</span></div>
<div class="line"><span class="lineno">  247</span>            self.paused_data = {}</div>
<div class="line"><span class="lineno">  248</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#a8b88ea2fc7ce49ef394dbdc6d40c8cf1">DataLogger.end_timer()</a>, <a class="el" href="a00150.html#a23bef5dbc59c116cc9a20754f9ee8f33">DataLogger.get_time_elapsed()</a>, DataLogger.logger_df, DataLogger.paused_data, and DataLogger.start_time_id.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_af8bf41368400983fc278bfa3b0fa9500_cgraph.png" border="0" usemap="#aa00150_af8bf41368400983fc278bfa3b0fa9500_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="aa664a0547aaaf3562a55bc58a1fbc09f" name="aa664a0547aaaf3562a55bc58a1fbc09f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa664a0547aaaf3562a55bc58a1fbc09f">&#9670;&#160;</a></span>end_recording()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end_recording </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>ends recording timer </p>
<pre class="fragment">Ends recording by setting the second value in the tuple (start, end) to the current time.
</pre> <div class="fragment"><div class="line"><span class="lineno">  135</span>    <span class="keyword">def </span>end_recording(self):</div>
<div class="line"><span class="lineno">  136</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  137</span><span class="stringliteral">        Ends recording by setting the second value in the tuple (start, end) to the current time.</span></div>
<div class="line"><span class="lineno">  138</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  139</span>        self.timer_dict[self.start_time_id][1] = time.time()</div>
<div class="line"><span class="lineno">  140</span> </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.start_time_id, and DataLogger.timer_dict.</p>

</div>
</div>
<a id="ae8fb478549eb82488a7f1029b1f2e74c" name="ae8fb478549eb82488a7f1029b1f2e74c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae8fb478549eb82488a7f1029b1f2e74c">&#9670;&#160;</a></span>end_slider()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end_slider </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_to</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">When slider_moved() is called, we call end_slider which removes a duration timer and adds the duration and SLIDER action to the logger.
</pre> <div class="fragment"><div class="line"><span class="lineno">  269</span>    <span class="keyword">def </span>end_slider(self, frame_to, timer_id):</div>
<div class="line"><span class="lineno">  270</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  271</span><span class="stringliteral">        When slider_moved() is called, we call end_slider which removes a duration timer and adds the duration and SLIDER action to the logger.</span></div>
<div class="line"><span class="lineno">  272</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  273</span>        <span class="keywordflow">if</span> self.slider_data:</div>
<div class="line"><span class="lineno">  274</span>            <span class="comment"># time_started, timer_ended = self.timer_dict[timer_id]</span></div>
<div class="line"><span class="lineno">  275</span>            duration = self.get_time_elapsed(timer_id)</div>
<div class="line"><span class="lineno">  276</span>            data = self.slider_data[timer_id]</div>
<div class="line"><span class="lineno">  277</span>            data[2] = duration</div>
<div class="line"><span class="lineno">  278</span>            data[4] = frame_to</div>
<div class="line"><span class="lineno">  279</span>            self.logger_df.loc[self.logger_df.shape[0]] = data</div>
<div class="line"><span class="lineno">  280</span>            self.slider_data = {}</div>
<div class="line"><span class="lineno">  281</span>            </div>
<div class="line"><span class="lineno">  282</span>            self.end_timer(timer_id)</div>
<div class="line"><span class="lineno">  283</span>            del self.timer_dict[timer_id]</div>
<div class="line"><span class="lineno">  284</span> </div>
<div class="line"><span class="lineno">  285</span>            <span class="comment"># print(self.logger_df)</span></div>
<div class="line"><span class="lineno">  286</span>    </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#a8b88ea2fc7ce49ef394dbdc6d40c8cf1">DataLogger.end_timer()</a>, <a class="el" href="a00150.html#a23bef5dbc59c116cc9a20754f9ee8f33">DataLogger.get_time_elapsed()</a>, DataLogger.logger_df, DataLogger.slider_data, and DataLogger.timer_dict.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_ae8fb478549eb82488a7f1029b1f2e74c_cgraph.png" border="0" usemap="#aa00150_ae8fb478549eb82488a7f1029b1f2e74c_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a8b88ea2fc7ce49ef394dbdc6d40c8cf1" name="a8b88ea2fc7ce49ef394dbdc6d40c8cf1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b88ea2fc7ce49ef394dbdc6d40c8cf1">&#9670;&#160;</a></span>end_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">end_timer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Ends the timer from when the project is finished
</pre> <div class="fragment"><div class="line"><span class="lineno">  162</span>    <span class="keyword">def </span>end_timer(self, timer_id):</div>
<div class="line"><span class="lineno">  163</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  164</span><span class="stringliteral">        Ends the timer from when the project is finished</span></div>
<div class="line"><span class="lineno">  165</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  166</span>        duration = self.get_time_elapsed(timer_id)</div>
<div class="line"><span class="lineno">  167</span>        self.timer_dict[timer_id] = (self.timer_dict[timer_id][0], duration)</div>
<div class="line"><span class="lineno">  168</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#a23bef5dbc59c116cc9a20754f9ee8f33">DataLogger.get_time_elapsed()</a>, and DataLogger.timer_dict.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#af8bf41368400983fc278bfa3b0fa9500">DataLogger.end_pause()</a>, and <a class="el" href="a00150.html#ae8fb478549eb82488a7f1029b1f2e74c">DataLogger.end_slider()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a8b88ea2fc7ce49ef394dbdc6d40c8cf1_cgraph.png" border="0" usemap="#aa00150_a8b88ea2fc7ce49ef394dbdc6d40c8cf1_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a8b88ea2fc7ce49ef394dbdc6d40c8cf1_icgraph.png" border="0" usemap="#aa00150_a8b88ea2fc7ce49ef394dbdc6d40c8cf1_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a346584b03fbdc533d0a329c2aed67605" name="a346584b03fbdc533d0a329c2aed67605"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a346584b03fbdc533d0a329c2aed67605">&#9670;&#160;</a></span>export_activity()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">export_activity </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  621</span>    <span class="keyword">def </span>export_activity(self, file_path):</div>
<div class="line"><span class="lineno">  622</span>        <span class="keywordflow">if</span> self.logger_df.shape[0] &gt; 0:</div>
<div class="line"><span class="lineno">  623</span>            logger_filename =   file_path + <span class="stringliteral">&quot;_ACTIVITY_LOGGER_&quot;</span> + self.intervention_level + <span class="stringliteral">&quot;.csv&quot;</span></div>
<div class="line"><span class="lineno">  624</span> </div>
<div class="line"><span class="lineno">  625</span>            intervention_level = self.check_intervention_level()</div>
<div class="line"><span class="lineno">  626</span>            print(intervention_level)</div>
<div class="line"><span class="lineno">  627</span> </div>
<div class="line"><span class="lineno">  628</span>            self.logger_df = self.logger_df.assign(Intervention_Level=intervention_level)</div>
<div class="line"><span class="lineno">  629</span> </div>
<div class="line"><span class="lineno">  630</span>            self.logger_df.to_csv(logger_filename, index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  631</span>            print(<span class="stringliteral">&quot;Exported&quot;</span>)</div>
<div class="line"><span class="lineno">  632</span>        <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  633</span>            print(<span class="stringliteral">&quot;No Data Available&quot;</span>)</div>
<div class="line"><span class="lineno">  634</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a141cad1e6d50d6c15b02caa0458ac193" name="a141cad1e6d50d6c15b02caa0458ac193"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a141cad1e6d50d6c15b02caa0458ac193">&#9670;&#160;</a></span>export_charactoristics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">export_charactoristics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>file_path</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  612</span>    <span class="keyword">def </span>export_charactoristics(self, file_path):</div>
<div class="line"><span class="lineno">  613</span>        print(<span class="stringliteral">&quot;Saving Characteristics&quot;</span>)</div>
<div class="line"><span class="lineno">  614</span> </div>
<div class="line"><span class="lineno">  615</span>        char_filename =  file_path + <span class="stringliteral">&quot;CHARACTERISTICS &quot;</span> + <span class="stringliteral">&quot;.csv&quot;</span></div>
<div class="line"><span class="lineno">  616</span>        self.video_info_df.to_csv(char_filename, index=<span class="keyword">False</span>)</div>
<div class="line"><span class="lineno">  617</span>        </div>
<div class="line"><span class="lineno">  618</span>            </div>
<div class="line"><span class="lineno">  619</span>        print(<span class="stringliteral">&quot;Saving complete&quot;</span>)</div>
<div class="line"><span class="lineno">  620</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a23bef5dbc59c116cc9a20754f9ee8f33" name="a23bef5dbc59c116cc9a20754f9ee8f33"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a23bef5dbc59c116cc9a20754f9ee8f33">&#9670;&#160;</a></span>get_time_elapsed()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_time_elapsed </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">returns elapsed time of a timer in seconds
</pre> <div class="fragment"><div class="line"><span class="lineno">  155</span>    <span class="keyword">def </span>get_time_elapsed(self, timer_id):</div>
<div class="line"><span class="lineno">  156</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  157</span><span class="stringliteral">        returns elapsed time of a timer in seconds</span></div>
<div class="line"><span class="lineno">  158</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  159</span>        <span class="keywordflow">return</span> time.time() - self.timer_dict[self.start_time_id][0] - self.timer_dict[timer_id][0]</div>
<div class="line"><span class="lineno">  160</span> </div>
<div class="line"><span class="lineno">  161</span> </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.start_time_id, and DataLogger.timer_dict.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#a640807eb3a47f21d60f4901383f9ab7e">DataLogger.end_adjustment()</a>, <a class="el" href="a00150.html#af8bf41368400983fc278bfa3b0fa9500">DataLogger.end_pause()</a>, <a class="el" href="a00150.html#ae8fb478549eb82488a7f1029b1f2e74c">DataLogger.end_slider()</a>, and <a class="el" href="a00150.html#a8b88ea2fc7ce49ef394dbdc6d40c8cf1">DataLogger.end_timer()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a23bef5dbc59c116cc9a20754f9ee8f33_icgraph.png" border="0" usemap="#aa00150_a23bef5dbc59c116cc9a20754f9ee8f33_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a1f7f6db786512a4f60a0bf40f3dfb414" name="a1f7f6db786512a4f60a0bf40f3dfb414"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1f7f6db786512a4f60a0bf40f3dfb414">&#9670;&#160;</a></span>get_tracker_score()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_tracker_score </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Not implemented
</pre> <div class="fragment"><div class="line"><span class="lineno">  293</span>    <span class="keyword">def </span>get_tracker_score(self):</div>
<div class="line"><span class="lineno">  294</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  295</span><span class="stringliteral">        Not implemented</span></div>
<div class="line"><span class="lineno">  296</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  297</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  298</span>    </div>
</div><!-- fragment -->
</div>
</div>
<a id="a2c83fe18962be0a9264b914a3810a30e" name="a2c83fe18962be0a9264b914a3810a30e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2c83fe18962be0a9264b914a3810a30e">&#9670;&#160;</a></span>get_video_characteristics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">get_video_characteristics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>video</em> = <code>None</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>VIDEO COMPLEXITY STARTS HERE #. </p>
<pre class="fragment">Records all video characteristics. 
    This will be done independently from the user input 
    and will be constants between intervention types
</pre> <div class="fragment"><div class="line"><span class="lineno">  303</span>    <span class="keyword">def </span>get_video_characteristics(self, video=None):</div>
<div class="line"><span class="lineno">  304</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  305</span><span class="stringliteral">        Records all video characteristics. </span></div>
<div class="line"><span class="lineno">  306</span><span class="stringliteral">            This will be done independently from the user input </span></div>
<div class="line"><span class="lineno">  307</span><span class="stringliteral">            and will be constants between intervention types</span></div>
<div class="line"><span class="lineno">  308</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  309</span> </div>
<div class="line"><span class="lineno">  310</span>        <span class="keywordflow">if</span> video <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  311</span>            video = self.video</div>
<div class="line"><span class="lineno">  312</span>        cap = cv2.VideoCapture(video)</div>
<div class="line"><span class="lineno">  313</span>        fps = cap.get(cv2.CAP_PROP_FPS)</div>
<div class="line"><span class="lineno">  314</span>        te_loaded = <span class="keyword">True</span></div>
<div class="line"><span class="lineno">  315</span> </div>
<div class="line"><span class="lineno">  316</span>        folder = os.path.dirname(video)</div>
<div class="line"><span class="lineno">  317</span>        print(<span class="stringliteral">&quot;Done&quot;</span>)</div>
<div class="line"><span class="lineno">  318</span> </div>
<div class="line"><span class="lineno">  319</span>        <span class="keywordflow">if</span> (cap.isOpened()== <span class="keyword">False</span>): </div>
<div class="line"><span class="lineno">  320</span>            print(<span class="stringliteral">&quot;Error opening video  file&quot;</span>)</div>
<div class="line"><span class="lineno">  321</span>        </div>
<div class="line"><span class="lineno">  322</span>        previous_gt_frame = 0</div>
<div class="line"><span class="lineno">  323</span>        gt_count = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  324</span>        occluded_count = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  325</span>        total_frames = cap.get(cv2.CAP_PROP_FRAME_COUNT)</div>
<div class="line"><span class="lineno">  326</span>        <span class="comment"># Read until video is completed</span></div>
<div class="line"><span class="lineno">  327</span>        while(<span class="keyword">True</span>):</div>
<div class="line"><span class="lineno">  328</span>            <span class="comment"># Capture frame-by-frame</span></div>
<div class="line"><span class="lineno">  329</span>            ret, frame = cap.read()</div>
<div class="line"><span class="lineno">  330</span>            frame_num = cap.get(cv2.CAP_PROP_POS_FRAMES)</div>
<div class="line"><span class="lineno">  331</span>            </div>
<div class="line"><span class="lineno">  332</span>            <span class="keywordflow">while</span> <span class="keywordflow">not</span> ret:</div>
<div class="line"><span class="lineno">  333</span>                print(ret, frame_num)</div>
<div class="line"><span class="lineno">  334</span>                frame_num += 1</div>
<div class="line"><span class="lineno">  335</span>                cap.set(cv2.CAP_PROP_POS_FRAMES, frame_num)</div>
<div class="line"><span class="lineno">  336</span>                ret, frame = cap.read()</div>
<div class="line"><span class="lineno">  337</span>                <span class="keywordflow">if</span> frame_num &gt;= total_frames:</div>
<div class="line"><span class="lineno">  338</span>                    <span class="keywordflow">break</span></div>
<div class="line"><span class="lineno">  339</span>            </div>
<div class="line"><span class="lineno">  340</span>            <span class="keywordflow">if</span> ret == <span class="keyword">True</span>:</div>
<div class="line"><span class="lineno">  341</span>                ill_mean, ill_std = self.illumination(frame)</div>
<div class="line"><span class="lineno">  342</span>                of_dict = self.optical_flow(frame) <span class="comment"># Mean Median STD Mean_Magnitude Dominant_Zoom Percent_Zoom </span></div>
<div class="line"><span class="lineno">  343</span>                                                             <span class="comment"># Zoom_Dominance_Thresh Zoom_Magnitude_Thresh Dominant_Pan Percent_Pan </span></div>
<div class="line"><span class="lineno">  344</span>                                                             <span class="comment"># Pan_Dominance_Thresh Pan_Magnitude_Thresh</span></div>
<div class="line"><span class="lineno">  345</span>                print(of_dict)</div>
<div class="line"><span class="lineno">  346</span>                <span class="keywordflow">if</span> te_loaded:</div>
<div class="line"><span class="lineno">  347</span>                    gt_count = self.te.get_ground_truth_count(int(frame_num))</div>
<div class="line"><span class="lineno">  348</span>                    occluded_count = self.te.get_occlusion_count(int(frame_num))</div>
<div class="line"><span class="lineno">  349</span> </div>
<div class="line"><span class="lineno">  350</span>                    </div>
<div class="line"><span class="lineno">  351</span> </div>
<div class="line"><span class="lineno">  352</span>                new_trackers = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  353</span>                nt_count = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  354</span>                leaving_trackers = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  355</span>                leaving_count = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  356</span> </div>
<div class="line"><span class="lineno">  357</span>                labels = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  358</span>                areas = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  359</span>                heights = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  360</span>                widths = <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  361</span> </div>
<div class="line"><span class="lineno">  362</span>                <span class="keywordflow">if</span> self.te.ground_truth_exists(frame_num) <span class="keywordflow">and</span> te_loaded:</div>
<div class="line"><span class="lineno">  363</span>                    <span class="keywordflow">if</span> self.te.ground_truth_exists(frame_num):</div>
<div class="line"><span class="lineno">  364</span>                        new_trackers, leaving_trackers = self.te.get_ground_truth_difference(previous_gt_frame, frame_num)</div>
<div class="line"><span class="lineno">  365</span>                        nt_count = len(new_trackers)</div>
<div class="line"><span class="lineno">  366</span>                        leaving_count = len(leaving_trackers)</div>
<div class="line"><span class="lineno">  367</span>                        labels, areas, heights, widths = self.ground_truth_characteristics(frame_num)</div>
<div class="line"><span class="lineno">  368</span>                        </div>
<div class="line"><span class="lineno">  369</span> </div>
<div class="line"><span class="lineno">  370</span>                    previous_gt_frame = frame_num</div>
<div class="line"><span class="lineno">  371</span>                    </div>
<div class="line"><span class="lineno">  372</span>                <span class="comment"># print(ill_mean, ill_std, flow_mean, flow_median, flow_std, gt_count, occluded_count)</span></div>
<div class="line"><span class="lineno">  373</span>                data = [frame_num, ill_mean, ill_std, of_dict[<span class="stringliteral">&quot;Mean&quot;</span>], of_dict[<span class="stringliteral">&quot;Median&quot;</span>], </div>
<div class="line"><span class="lineno">  374</span>                        of_dict[<span class="stringliteral">&quot;STD&quot;</span>], of_dict[<span class="stringliteral">&quot;Mean_Magnitude&quot;</span>], of_dict[<span class="stringliteral">&quot;Dominant_Zoom&quot;</span>], </div>
<div class="line"><span class="lineno">  375</span>                        of_dict[<span class="stringliteral">&quot;Percent_Zoom&quot;</span>], of_dict[<span class="stringliteral">&quot;Zoom_Dominance_Thresh&quot;</span>], of_dict[<span class="stringliteral">&quot;Zoom_Magnitude_Thresh&quot;</span>],</div>
<div class="line"><span class="lineno">  376</span>                        of_dict[<span class="stringliteral">&quot;Dominant_Pan&quot;</span>], of_dict[<span class="stringliteral">&quot;Percent_Pan&quot;</span>], of_dict[<span class="stringliteral">&quot;Pan_Dominance_Thresh&quot;</span>], of_dict[<span class="stringliteral">&quot;Pan_Magnitude_Thresh&quot;</span>],</div>
<div class="line"><span class="lineno">  377</span>                        gt_count, occluded_count, new_trackers, nt_count, leaving_trackers, leaving_count, labels, areas, heights, widths,  </div>
<div class="line"><span class="lineno">  378</span>                        self.video_id, self.video_location</div>
<div class="line"><span class="lineno">  379</span>                ]</div>
<div class="line"><span class="lineno">  380</span> </div>
<div class="line"><span class="lineno">  381</span>                self.video_info_df.loc[self.video_info_df.shape[0]] = data</div>
<div class="line"><span class="lineno">  382</span>                <span class="comment"># # Display the resulting frame</span></div>
<div class="line"><span class="lineno">  383</span>                cv2.imshow(<span class="stringliteral">&#39;Frame&#39;</span>, frame)</div>
<div class="line"><span class="lineno">  384</span>                cv2.waitKey(1)</div>
<div class="line"><span class="lineno">  385</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  386</span>                <span class="keywordflow">return</span> self.video_info_df</div>
<div class="line"><span class="lineno">  387</span>        <span class="keywordflow">return</span> self.video_info_df</div>
<div class="line"><span class="lineno">  388</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#a7e1305e3e399383a4b749ba2244f5943">DataLogger.ground_truth_characteristics()</a>, <a class="el" href="a00150.html#ad63c3dc24a49baaad8a67403006f0241">DataLogger.illumination()</a>, <a class="el" href="a00150.html#af0a6b39e1a4c8ba3a00d790253aab15c">DataLogger.optical_flow()</a>, DataLogger.te, DataLogger.video, DataLogger.video_id, DataLogger.video_info_df, and DataLogger.video_location.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a2c83fe18962be0a9264b914a3810a30e_cgraph.png" border="0" usemap="#aa00150_a2c83fe18962be0a9264b914a3810a30e_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a7e1305e3e399383a4b749ba2244f5943" name="a7e1305e3e399383a4b749ba2244f5943"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7e1305e3e399383a4b749ba2244f5943">&#9670;&#160;</a></span>ground_truth_characteristics()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ground_truth_characteristics </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_num</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records ground truth height, width, and distance from last frame
</pre> <div class="fragment"><div class="line"><span class="lineno">  554</span>    <span class="keyword">def </span>ground_truth_characteristics(self, frame_num):</div>
<div class="line"><span class="lineno">  555</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  556</span><span class="stringliteral">        Records ground truth height, width, and distance from last frame</span></div>
<div class="line"><span class="lineno">  557</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  558</span>        ground_truths = self.te.get_ground_truths(frame_num)</div>
<div class="line"><span class="lineno">  559</span>        labels = []</div>
<div class="line"><span class="lineno">  560</span>        gt_areas = []</div>
<div class="line"><span class="lineno">  561</span>        gt_heights = []</div>
<div class="line"><span class="lineno">  562</span>        gt_widths = []</div>
<div class="line"><span class="lineno">  563</span>        <span class="keywordflow">for</span> gt <span class="keywordflow">in</span> ground_truths:</div>
<div class="line"><span class="lineno">  564</span>            box = gt[<span class="stringliteral">&#39;points&#39;</span>]</div>
<div class="line"><span class="lineno">  565</span>            labels.append(gt[<span class="stringliteral">&#39;label&#39;</span>])</div>
<div class="line"><span class="lineno">  566</span>            gt_areas.append(self.te.get_area(box))</div>
<div class="line"><span class="lineno">  567</span>            gt_heights.append(self.te.get_height(box))</div>
<div class="line"><span class="lineno">  568</span>            gt_widths.append(self.te.get_width(box))</div>
<div class="line"><span class="lineno">  569</span> </div>
<div class="line"><span class="lineno">  570</span>        <span class="keywordflow">return</span> labels, gt_areas, gt_heights, gt_widths</div>
<div class="line"><span class="lineno">  571</span> </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.te.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#a2c83fe18962be0a9264b914a3810a30e">DataLogger.get_video_characteristics()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a7e1305e3e399383a4b749ba2244f5943_icgraph.png" border="0" usemap="#aa00150_a7e1305e3e399383a4b749ba2244f5943_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ad63c3dc24a49baaad8a67403006f0241" name="ad63c3dc24a49baaad8a67403006f0241"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad63c3dc24a49baaad8a67403006f0241">&#9670;&#160;</a></span>illumination()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">illumination </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records the average intensity of the RGB image in greyscale with values between 0 (black) and 255 (white)

Intensity = (R + G + B)/3
</pre> <div class="fragment"><div class="line"><span class="lineno">  389</span>    <span class="keyword">def </span>illumination(self, frame):</div>
<div class="line"><span class="lineno">  390</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  391</span><span class="stringliteral">        Records the average intensity of the RGB image in greyscale with values between 0 (black) and 255 (white)</span></div>
<div class="line"><span class="lineno">  392</span><span class="stringliteral">        </span></div>
<div class="line"><span class="lineno">  393</span><span class="stringliteral">        Intensity = (R + G + B)/3</span></div>
<div class="line"><span class="lineno">  394</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  395</span>        gray = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</div>
<div class="line"><span class="lineno">  396</span>        mean, std = cv2.meanStdDev(gray)</div>
<div class="line"><span class="lineno">  397</span>        <span class="keywordflow">return</span> mean[0][0], std[0][0]</div>
<div class="line"><span class="lineno">  398</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00150.html#a2c83fe18962be0a9264b914a3810a30e">DataLogger.get_video_characteristics()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_ad63c3dc24a49baaad8a67403006f0241_icgraph.png" border="0" usemap="#aa00150_ad63c3dc24a49baaad8a67403006f0241_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="af7dc8315b04b8b19f07ef5b7dab34782" name="af7dc8315b04b8b19f07ef5b7dab34782"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af7dc8315b04b8b19f07ef5b7dab34782">&#9670;&#160;</a></span>objects_occluded()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">objects_occluded </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>folder_path</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>fps</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records weather the occlusion flag has occured on that frame. Records how many IDs have been occluded.
</pre> <div class="fragment"><div class="line"><span class="lineno">  572</span>    <span class="keyword">def </span>objects_occluded(self, folder_path, fps):</div>
<div class="line"><span class="lineno">  573</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  574</span><span class="stringliteral">        Records weather the occlusion flag has occured on that frame. Records how many IDs have been occluded.</span></div>
<div class="line"><span class="lineno">  575</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  576</span>        occlusion_dict = {}</div>
<div class="line"><span class="lineno">  577</span>        <span class="keywordflow">for</span> frame <span class="keywordflow">in</span> self.te.get_frame_count():</div>
<div class="line"><span class="lineno">  578</span>            occlusion_dict[frame] = self.te.count_occlusion(frame)</div>
<div class="line"><span class="lineno">  579</span>            print(occlusion_dict[frame])</div>
<div class="line"><span class="lineno">  580</span> </div>
<div class="line"><span class="lineno">  581</span>        <span class="keywordflow">return</span> occlusion_dict</div>
<div class="line"><span class="lineno">  582</span> </div>
<div class="line"><span class="lineno">  583</span> </div>
<div class="line"><span class="lineno">  584</span>    </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.check_intervention_level(), <a class="el" href="a00150.html#a10d41eee6e85dbc18db528607f7641be">DataLogger.intervention_level</a>, DataLogger.logger_df, DataLogger.te, and DataLogger.video_info_df.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_af7dc8315b04b8b19f07ef5b7dab34782_cgraph.png" border="0" usemap="#aa00150_af7dc8315b04b8b19f07ef5b7dab34782_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a8662a7e19ab5209fd49a46a6d600885b" name="a8662a7e19ab5209fd49a46a6d600885b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8662a7e19ab5209fd49a46a6d600885b">&#9670;&#160;</a></span>occuding_objects()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">occuding_objects </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>occluding_tracks_csv</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>occluding_threshold</em> = <code>0.8</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Given recorded occluding objects, check the precision of ground truth onto occluding object.
If precision of ground truth is above threshold, this means that object is occluded.
This is the same measure as check_occlusion but data in this context is different and 
therefore a different function
</pre> <div class="fragment"><div class="line"><span class="lineno">  638</span>    <span class="keyword">def </span>occuding_objects(self, occluding_tracks_csv, occluding_threshold=0.8):</div>
<div class="line"><span class="lineno">  639</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  640</span><span class="stringliteral">        Given recorded occluding objects, check the precision of ground truth onto occluding object.</span></div>
<div class="line"><span class="lineno">  641</span><span class="stringliteral">        If precision of ground truth is above threshold, this means that object is occluded.</span></div>
<div class="line"><span class="lineno">  642</span><span class="stringliteral">        This is the same measure as check_occlusion but data in this context is different and </span></div>
<div class="line"><span class="lineno">  643</span><span class="stringliteral">        therefore a different function</span></div>
<div class="line"><span class="lineno">  644</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  645</span>        percent_occluded = {}</div>
<div class="line"><span class="lineno">  646</span>        </div>
<div class="line"><span class="lineno">  647</span>        <span class="comment"># Load occluding tracks</span></div>
<div class="line"><span class="lineno">  648</span>        occlusion_dict = self.te.load_tracker_data(occluding_tracks_csv)</div>
<div class="line"><span class="lineno">  649</span> </div>
<div class="line"><span class="lineno">  650</span>        occluding_frame = []</div>
<div class="line"><span class="lineno">  651</span>        occluding_name = []</div>
<div class="line"><span class="lineno">  652</span>        occluded_list = []</div>
<div class="line"><span class="lineno">  653</span>        percent_occluded_list = []</div>
<div class="line"><span class="lineno">  654</span> </div>
<div class="line"><span class="lineno">  655</span>        <span class="comment">#convert occlusions to gt form</span></div>
<div class="line"><span class="lineno">  656</span>        <span class="keywordflow">for</span> frame <span class="keywordflow">in</span> occlusion_dict.keys():</div>
<div class="line"><span class="lineno">  657</span>            occlusion_trackers = self.te.get_estimates(frame)</div>
<div class="line"><span class="lineno">  658</span> </div>
<div class="line"><span class="lineno">  659</span>            <span class="keywordflow">for</span> occlusion_object <span class="keywordflow">in</span> occlusion_trackers:</div>
<div class="line"><span class="lineno">  660</span>                <span class="comment"># Correct for comparing tracker to ground_truths based on loaded information</span></div>
<div class="line"><span class="lineno">  661</span>                corrected_occlusion = self.estimate_to_point(occlusion_object, invert_y=self.te.invert_y)</div>
<div class="line"><span class="lineno">  662</span> </div>
<div class="line"><span class="lineno">  663</span>                <span class="comment"># Get precision of occluding object onto ground truths.</span></div>
<div class="line"><span class="lineno">  664</span>                <span class="comment"># This method looks all ground truths, and checks intersection with occlusion.</span></div>
<div class="line"><span class="lineno">  665</span>                <span class="comment"># Precision measures how much of the E covers the GT</span></div>
<div class="line"><span class="lineno">  666</span>                occluded, percent_occluded = self.te.check_occlusion(corrected_occlusion, frame)</div>
<div class="line"><span class="lineno">  667</span> </div>
<div class="line"><span class="lineno">  668</span>                occluding_frame.append(frame)</div>
<div class="line"><span class="lineno">  669</span>                occluding_name.append(occlusion_object[<span class="stringliteral">&#39;name&#39;</span>])</div>
<div class="line"><span class="lineno">  670</span>                occluded_list.append(occluded)</div>
<div class="line"><span class="lineno">  671</span>                percent_occluded_list.append(percent_occluded)</div>
<div class="line"><span class="lineno">  672</span> </div>
<div class="line"><span class="lineno">  673</span> </div>
<div class="line"><span class="lineno">  674</span> </div>
<div class="line"><span class="lineno">  675</span>        <span class="comment"># # Return Dictionary of objects and their percent occlusion</span></div>
<div class="line"><span class="lineno">  676</span>        <span class="comment"># data = {</span></div>
<div class="line"><span class="lineno">  677</span>        <span class="comment">#         &quot;Frame_Num&quot;: occluding_frame,</span></div>
<div class="line"><span class="lineno">  678</span>        <span class="comment">#         &quot;Occluding_Name&quot;: occluding_name,</span></div>
<div class="line"><span class="lineno">  679</span>        <span class="comment">#         &quot;Ground_Truth&quot;: </span></div>
<div class="line"><span class="lineno">  680</span>        <span class="comment">#         &quot;Occluding&quot;: occluded_list,</span></div>
<div class="line"><span class="lineno">  681</span>        <span class="comment">#         &quot;Percent_Occluding&quot;: percent_occluded_list,</span></div>
<div class="line"><span class="lineno">  682</span>        <span class="comment">#         &quot;&quot;</span></div>
<div class="line"><span class="lineno">  683</span> </div>
<div class="line"><span class="lineno">  684</span> </div>
<div class="line"><span class="lineno">  685</span>        <span class="comment">#         }</span></div>
<div class="line"><span class="lineno">  686</span>        <span class="comment"># pass</span></div>
<div class="line"><span class="lineno">  687</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="af0a6b39e1a4c8ba3a00d790253aab15c" name="af0a6b39e1a4c8ba3a00d790253aab15c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af0a6b39e1a4c8ba3a00d790253aab15c">&#9670;&#160;</a></span>optical_flow()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optical_flow </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Uses optical flow to measure the average magnitude of movement from the flow of pixels.

Also records the resolution of the image

Returns values in a dictionary with names:
    Mean
    Median
    STD
    Mean_Magnitude
    Dominant_Zoom
    Percent_Zoom
    Zoom_Dominance_Thresh
    Zoom_Magnitude_Thresh
    Dominant_Pan
    Percent_Pan
    Pan_Dominance_Thresh
    Pan_Magnitude_Thresh

[66] Gunnar Farnebck. Two-frame motion estimation based on polynomial expansion. In Image Analysis, pages 363370. Springer, 2003. 
</pre> <div class="fragment"><div class="line"><span class="lineno">  399</span>    <span class="keyword">def </span>optical_flow(self, frame):</div>
<div class="line"><span class="lineno">  400</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  401</span><span class="stringliteral">        Uses optical flow to measure the average magnitude of movement from the flow of pixels.</span></div>
<div class="line"><span class="lineno">  402</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  403</span><span class="stringliteral">        Also records the resolution of the image</span></div>
<div class="line"><span class="lineno">  404</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  405</span><span class="stringliteral">        Returns values in a dictionary with names:</span></div>
<div class="line"><span class="lineno">  406</span><span class="stringliteral">            Mean</span></div>
<div class="line"><span class="lineno">  407</span><span class="stringliteral">            Median</span></div>
<div class="line"><span class="lineno">  408</span><span class="stringliteral">            STD</span></div>
<div class="line"><span class="lineno">  409</span><span class="stringliteral">            Mean_Magnitude</span></div>
<div class="line"><span class="lineno">  410</span><span class="stringliteral">            Dominant_Zoom</span></div>
<div class="line"><span class="lineno">  411</span><span class="stringliteral">            Percent_Zoom</span></div>
<div class="line"><span class="lineno">  412</span><span class="stringliteral">            Zoom_Dominance_Thresh</span></div>
<div class="line"><span class="lineno">  413</span><span class="stringliteral">            Zoom_Magnitude_Thresh</span></div>
<div class="line"><span class="lineno">  414</span><span class="stringliteral">            Dominant_Pan</span></div>
<div class="line"><span class="lineno">  415</span><span class="stringliteral">            Percent_Pan</span></div>
<div class="line"><span class="lineno">  416</span><span class="stringliteral">            Pan_Dominance_Thresh</span></div>
<div class="line"><span class="lineno">  417</span><span class="stringliteral">            Pan_Magnitude_Thresh</span></div>
<div class="line"><span class="lineno">  418</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  419</span><span class="stringliteral">        [66] Gunnar Farnebck. Two-frame motion estimation based on polynomial expansion. In Image Analysis, pages 363370. Springer, 2003. </span></div>
<div class="line"><span class="lineno">  420</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  421</span>        <span class="keywordflow">if</span> self.previous_frame <span class="keywordflow">is</span> <span class="keywordtype">None</span>:</div>
<div class="line"><span class="lineno">  422</span>            self.previous_frame = frame</div>
<div class="line"><span class="lineno">  423</span>            </div>
<div class="line"><span class="lineno">  424</span>            <span class="keywordflow">return</span> {<span class="stringliteral">&quot;Mean&quot;</span>:0, <span class="stringliteral">&quot;Median&quot;</span>: 0, <span class="stringliteral">&quot;STD&quot;</span>:0, <span class="stringliteral">&quot;Mean_Magnitude&quot;</span>:0, <span class="stringliteral">&quot;Dominant_Zoom&quot;</span>:0, <span class="stringliteral">&quot;Percent_Zoom&quot;</span>:0, <span class="stringliteral">&quot;Zoom_Dominance_Thresh&quot;</span>:0, <span class="stringliteral">&quot;Zoom_Magnitude_Thresh&quot;</span>: 0,<span class="stringliteral">&quot;Dominant_Pan&quot;</span>: 0, <span class="stringliteral">&quot;Percent_Pan&quot;</span>: 0, <span class="stringliteral">&quot;Pan_Dominance_Thresh&quot;</span>: 0, <span class="stringliteral">&quot;Pan_Magnitude_Thresh&quot;</span>:0}</div>
<div class="line"><span class="lineno">  425</span> </div>
<div class="line"><span class="lineno">  426</span>        gray_prev = cv2.cvtColor(self.previous_frame, cv2.COLOR_BGR2GRAY)</div>
<div class="line"><span class="lineno">  427</span>        gray_current = cv2.cvtColor(frame, cv2.COLOR_BGR2GRAY)</div>
<div class="line"><span class="lineno">  428</span>        </div>
<div class="line"><span class="lineno">  429</span>        <span class="comment">#Resize to 1/4 to reduce complexity</span></div>
<div class="line"><span class="lineno">  430</span>        gray_prev = cv2.resize(gray_prev, (0,0), fx=0.25, fy=0.25) </div>
<div class="line"><span class="lineno">  431</span>        gray_current = cv2.resize(gray_current, (0,0), fx=0.25, fy=0.25)</div>
<div class="line"><span class="lineno">  432</span> </div>
<div class="line"><span class="lineno">  433</span>        flow = cv2.calcOpticalFlowFarneback(gray_prev, gray_current, flow=<span class="keywordtype">None</span>, pyr_scale=0.5, levels=6, winsize=50, iterations=3, poly_n=5, poly_sigma=1.2, flags=<span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  434</span> </div>
<div class="line"><span class="lineno">  435</span>        mean_magnitude = np.mean(cv2.cartToPolar(flow[..., 0], flow[..., 1])[0])</div>
<div class="line"><span class="lineno">  436</span> </div>
<div class="line"><span class="lineno">  437</span>        zoom_dom_direction, zoom_perc_dom, zoom_dom_thresh, zoom_mean_mag_thresh  =  self.optical_flow_zoom(flow)</div>
<div class="line"><span class="lineno">  438</span>        pan_dom_direction, pan_perc_dom, pan_dom_thresh, pan_mean_mag_thresh =  self.optical_flow_pan(flow)</div>
<div class="line"><span class="lineno">  439</span>        <span class="comment"># flow = cv2.calcOpticalFlowFarneback(previous_frame, frame, None, 0.5, 3, 15, 3, 5, 1.2, 0)</span></div>
<div class="line"><span class="lineno">  440</span>        </div>
<div class="line"><span class="lineno">  441</span>        mean = np.mean(flow)</div>
<div class="line"><span class="lineno">  442</span>        median = np.median(flow)</div>
<div class="line"><span class="lineno">  443</span>        std = np.std(flow)</div>
<div class="line"><span class="lineno">  444</span>        self.previous_frame = frame</div>
<div class="line"><span class="lineno">  445</span> </div>
<div class="line"><span class="lineno">  446</span>        opticalflow_dict = {<span class="stringliteral">&quot;Mean&quot;</span>:mean, <span class="stringliteral">&quot;Median&quot;</span>: median, <span class="stringliteral">&quot;STD&quot;</span>:std, <span class="stringliteral">&quot;Mean_Magnitude&quot;</span>:mean_magnitude, <span class="stringliteral">&quot;Dominant_Zoom&quot;</span>:zoom_dom_direction, <span class="stringliteral">&quot;Percent_Zoom&quot;</span>:zoom_perc_dom, <span class="stringliteral">&quot;Zoom_Dominance_Thresh&quot;</span>:zoom_dom_thresh, <span class="stringliteral">&quot;Zoom_Magnitude_Thresh&quot;</span>: zoom_mean_mag_thresh,<span class="stringliteral">&quot;Dominant_Pan&quot;</span>: pan_dom_direction, <span class="stringliteral">&quot;Percent_Pan&quot;</span>: pan_perc_dom, <span class="stringliteral">&quot;Pan_Dominance_Thresh&quot;</span>: pan_dom_thresh, <span class="stringliteral">&quot;Pan_Magnitude_Thresh&quot;</span>:pan_mean_mag_thresh}</div>
<div class="line"><span class="lineno">  447</span>        print(opticalflow_dict)</div>
<div class="line"><span class="lineno">  448</span>        <span class="keywordflow">return</span> opticalflow_dict</div>
<div class="line"><span class="lineno">  449</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#ae735fff941e047218ea858337e007484">DataLogger.optical_flow_pan()</a>, <a class="el" href="a00150.html#a3cff34c024334cefe903de3058e3a991">DataLogger.optical_flow_zoom()</a>, and DataLogger.previous_frame.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#a2c83fe18962be0a9264b914a3810a30e">DataLogger.get_video_characteristics()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_af0a6b39e1a4c8ba3a00d790253aab15c_cgraph.png" border="0" usemap="#aa00150_af0a6b39e1a4c8ba3a00d790253aab15c_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_af0a6b39e1a4c8ba3a00d790253aab15c_icgraph.png" border="0" usemap="#aa00150_af0a6b39e1a4c8ba3a00d790253aab15c_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ae735fff941e047218ea858337e007484" name="ae735fff941e047218ea858337e007484"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae735fff941e047218ea858337e007484">&#9670;&#160;</a></span>optical_flow_pan()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optical_flow_pan </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dominance_threshold</em> = <code>0.4</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>magnitude_threshold</em> = <code>0.5</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Vector orientation:
t+1=current frame, t=previous frame

atan( 
    (yi^(t+1) - yi^(t)) / 
    (xi^(t+1) - xi^(t)) 
)


Calculate Dominant Orientation = Peak value in orientation histogram of the imag
np.histogram(np.array(vector orientation))

returns the dominant orientation given a threshold, the threshold it passed by, and the average magnitude of movement.


Makkapati, V. (2008). Robust camera pan and zoom change detection using optical flow. 
In National conference on computer vision, pattern recognition, 
image processing and graphics (pp. 73-78).
</pre> <div class="fragment"><div class="line"><span class="lineno">  450</span>    <span class="keyword">def </span>optical_flow_pan(self, flow, dominance_threshold=0.4, magnitude_threshold=0.5):</div>
<div class="line"><span class="lineno">  451</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  452</span><span class="stringliteral">        Vector orientation:</span></div>
<div class="line"><span class="lineno">  453</span><span class="stringliteral">        t+1=current frame, t=previous frame</span></div>
<div class="line"><span class="lineno">  454</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  455</span><span class="stringliteral">        atan( </span></div>
<div class="line"><span class="lineno">  456</span><span class="stringliteral">            (yi^(t+1) - yi^(t)) / </span></div>
<div class="line"><span class="lineno">  457</span><span class="stringliteral">            (xi^(t+1) - xi^(t)) </span></div>
<div class="line"><span class="lineno">  458</span><span class="stringliteral">        )</span></div>
<div class="line"><span class="lineno">  459</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  460</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  461</span><span class="stringliteral">        Calculate Dominant Orientation = Peak value in orientation histogram of the imag</span></div>
<div class="line"><span class="lineno">  462</span><span class="stringliteral">        np.histogram(np.array(vector orientation))</span></div>
<div class="line"><span class="lineno">  463</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  464</span><span class="stringliteral">        returns the dominant orientation given a threshold, the threshold it passed by, and the average magnitude of movement.</span></div>
<div class="line"><span class="lineno">  465</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  466</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  467</span><span class="stringliteral">        Makkapati, V. (2008). Robust camera pan and zoom change detection using optical flow. </span></div>
<div class="line"><span class="lineno">  468</span><span class="stringliteral">        In National conference on computer vision, pattern recognition, </span></div>
<div class="line"><span class="lineno">  469</span><span class="stringliteral">        image processing and graphics (pp. 73-78).</span></div>
<div class="line"><span class="lineno">  470</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  471</span>        <span class="comment"># get all vector orientations</span></div>
<div class="line"><span class="lineno">  472</span>        orientation = np.rad2deg(cv2.cartToPolar(flow[..., 0], flow[..., 1])[1])</div>
<div class="line"><span class="lineno">  473</span>        magnitude = cv2.cartToPolar(flow[..., 0], flow[..., 1])[0]</div>
<div class="line"><span class="lineno">  474</span>        orientation_hist = np.histogram(orientation, bins=8, range=(0,360)) <span class="comment"># Bin every 45 degrees</span></div>
<div class="line"><span class="lineno">  475</span> </div>
<div class="line"><span class="lineno">  476</span>        <span class="comment"># print(orientation_hist)</span></div>
<div class="line"><span class="lineno">  477</span>        max_value_index = np.argmax(orientation_hist[0], axis=0)</div>
<div class="line"><span class="lineno">  478</span>        percent = orientation_hist[0][max_value_index]/np.sum(orientation_hist[0])</div>
<div class="line"><span class="lineno">  479</span>        dominant_orientation = orientation_hist[1][max_value_index]</div>
<div class="line"><span class="lineno">  480</span>        </div>
<div class="line"><span class="lineno">  481</span>        </div>
<div class="line"><span class="lineno">  482</span>        <span class="keywordflow">if</span> percent &gt;= dominance_threshold <span class="keywordflow">and</span> np.mean(magnitude) &gt;= magnitude_threshold:</div>
<div class="line"><span class="lineno">  483</span>            print(<span class="stringliteral">&quot;PANNING:&quot;</span>, dominant_orientation, percent, np.mean(magnitude))</div>
<div class="line"><span class="lineno">  484</span>            <span class="keywordflow">return</span> dominant_orientation, percent, dominance_threshold, magnitude_threshold</div>
<div class="line"><span class="lineno">  485</span> </div>
<div class="line"><span class="lineno">  486</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  487</span> </div>
<div class="line"><span class="lineno">  488</span>        </div>
<div class="line"><span class="lineno">  489</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00150.html#af0a6b39e1a4c8ba3a00d790253aab15c">DataLogger.optical_flow()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_ae735fff941e047218ea858337e007484_icgraph.png" border="0" usemap="#aa00150_ae735fff941e047218ea858337e007484_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a3cff34c024334cefe903de3058e3a991" name="a3cff34c024334cefe903de3058e3a991"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3cff34c024334cefe903de3058e3a991">&#9670;&#160;</a></span>optical_flow_zoom()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">optical_flow_zoom </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>flow</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>dominance_threshold</em> = <code>0.7</code>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>magnitude_threshold</em> = <code>1</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Describe each vector's direction. 

Returns 
    0 if diverging (zoom in), 1 if converging (zoom out), otherwise none.
    percent of dominance
    domenance threshold
    mean magnitude threshold


Makkapati, V. (2008). Robust camera pan and zoom change detection using optical flow. 
In National conference on computer vision, pattern recognition, 
image processing and graphics (pp. 73-78).
</pre> <div class="fragment"><div class="line"><span class="lineno">  490</span>    <span class="keyword">def </span>optical_flow_zoom(self, flow, dominance_threshold=0.7, magnitude_threshold=1):</div>
<div class="line"><span class="lineno">  491</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  492</span><span class="stringliteral">        Describe each vector&#39;s direction. </span></div>
<div class="line"><span class="lineno">  493</span><span class="stringliteral">        </span></div>
<div class="line"><span class="lineno">  494</span><span class="stringliteral">        Returns </span></div>
<div class="line"><span class="lineno">  495</span><span class="stringliteral">            0 if diverging (zoom in), 1 if converging (zoom out), otherwise none.</span></div>
<div class="line"><span class="lineno">  496</span><span class="stringliteral">            percent of dominance</span></div>
<div class="line"><span class="lineno">  497</span><span class="stringliteral">            domenance threshold</span></div>
<div class="line"><span class="lineno">  498</span><span class="stringliteral">            mean magnitude threshold</span></div>
<div class="line"><span class="lineno">  499</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  500</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  501</span><span class="stringliteral">        Makkapati, V. (2008). Robust camera pan and zoom change detection using optical flow. </span></div>
<div class="line"><span class="lineno">  502</span><span class="stringliteral">        In National conference on computer vision, pattern recognition, </span></div>
<div class="line"><span class="lineno">  503</span><span class="stringliteral">        image processing and graphics (pp. 73-78).</span></div>
<div class="line"><span class="lineno">  504</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  505</span> </div>
<div class="line"><span class="lineno">  506</span>        orientation = np.rad2deg(cv2.cartToPolar(flow[..., 0], flow[..., 1])[1])</div>
<div class="line"><span class="lineno">  507</span>        magnitude = cv2.cartToPolar(flow[..., 0], flow[..., 1])[0]</div>
<div class="line"><span class="lineno">  508</span> </div>
<div class="line"><span class="lineno">  509</span>        height, width, dim = flow.shape</div>
<div class="line"><span class="lineno">  510</span>        center = (width/2, height/2) <span class="comment"># (x,y)</span></div>
<div class="line"><span class="lineno">  511</span> </div>
<div class="line"><span class="lineno">  512</span>        <span class="comment"># converging = np.full((height, width), False)</span></div>
<div class="line"><span class="lineno">  513</span>        </div>
<div class="line"><span class="lineno">  514</span>        original_location = np.moveaxis(np.mgrid[:height,:width], 0, -1)</div>
<div class="line"><span class="lineno">  515</span> </div>
<div class="line"><span class="lineno">  516</span>        original_diff_x = (original_location[...,0]**2 - center[0]**2)</div>
<div class="line"><span class="lineno">  517</span>        original_diff_y = (original_location[...,1]**2 - center[1]**2)</div>
<div class="line"><span class="lineno">  518</span> </div>
<div class="line"><span class="lineno">  519</span>        <span class="comment"># flow_location_x = original_location[..., 0] + flow[..., 0]</span></div>
<div class="line"><span class="lineno">  520</span>        <span class="comment"># flow_location_y = original_location[..., 1] + flow[..., 1]</span></div>
<div class="line"><span class="lineno">  521</span>        flow_diff_x = ((original_location[...,0] + flow[..., 0])**2 - center[0]**2)</div>
<div class="line"><span class="lineno">  522</span>        flow_diff_y = ((original_location[...,1] + flow[..., 1])**2 - center[1]**2)</div>
<div class="line"><span class="lineno">  523</span> </div>
<div class="line"><span class="lineno">  524</span>        <span class="comment"># print(flow_diff_x)</span></div>
<div class="line"><span class="lineno">  525</span>        <span class="comment"># print(flow_diff_y)</span></div>
<div class="line"><span class="lineno">  526</span>        flow_diff = abs((flow_diff_x + flow_diff_y)**1/2)</div>
<div class="line"><span class="lineno">  527</span>        original_diff = abs((original_diff_x + original_diff_y)**1/2)</div>
<div class="line"><span class="lineno">  528</span> </div>
<div class="line"><span class="lineno">  529</span>        converging = flow_diff &lt;= original_diff</div>
<div class="line"><span class="lineno">  530</span> </div>
<div class="line"><span class="lineno">  531</span>        <span class="comment"># print(converging)</span></div>
<div class="line"><span class="lineno">  532</span>        convergence_hist = np.histogram(converging, bins=2, range=(0,1))</div>
<div class="line"><span class="lineno">  533</span>        <span class="comment"># print(convergence_hist)</span></div>
<div class="line"><span class="lineno">  534</span>        max_value_index = np.argmax(convergence_hist[0], axis=0) <span class="comment"># Get the most dominant</span></div>
<div class="line"><span class="lineno">  535</span>        percent = convergence_hist[0][max_value_index]/np.sum(convergence_hist[0]) <span class="comment"># get dominance percentage</span></div>
<div class="line"><span class="lineno">  536</span>        dominant_convergence = convergence_hist[1][max_value_index] <span class="comment"># get the dominant convergence (True is converging)</span></div>
<div class="line"><span class="lineno">  537</span> </div>
<div class="line"><span class="lineno">  538</span>        <span class="keywordflow">if</span> percent &gt;= dominance_threshold <span class="keywordflow">and</span> np.mean(magnitude) &gt;= magnitude_threshold:</div>
<div class="line"><span class="lineno">  539</span>            <span class="keywordflow">if</span> dominant_convergence &gt;= 0:</div>
<div class="line"><span class="lineno">  540</span>                print(<span class="stringliteral">&quot;ZOOM IN:&quot;</span>, dominant_convergence, percent, np.mean(magnitude))</div>
<div class="line"><span class="lineno">  541</span>            <span class="keywordflow">else</span>:</div>
<div class="line"><span class="lineno">  542</span>                print(<span class="stringliteral">&quot;ZOOM OUT:&quot;</span>, dominant_convergence, percent, np.mean(magnitude))</div>
<div class="line"><span class="lineno">  543</span>            </div>
<div class="line"><span class="lineno">  544</span>            <span class="keywordflow">return</span> dominant_convergence, percent, dominance_threshold, magnitude_threshold</div>
<div class="line"><span class="lineno">  545</span> </div>
<div class="line"><span class="lineno">  546</span>        <span class="keywordflow">return</span> <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span>, <span class="keywordtype">None</span></div>
<div class="line"><span class="lineno">  547</span> </div>
<div class="line"><span class="lineno">  548</span> </div>
<div class="line"><span class="lineno">  549</span>        <span class="comment"># print(flow.shape)</span></div>
<div class="line"><span class="lineno">  550</span>        <span class="comment"># print(np.ndindex(flow.shape))</span></div>
<div class="line"><span class="lineno">  551</span>        <span class="comment"># for iy, ix,  in np.ndindex(flow.shape):</span></div>
<div class="line"><span class="lineno">  552</span>        <span class="comment">#     print(iy, ix)</span></div>
<div class="line"><span class="lineno">  553</span> </div>
</div><!-- fragment -->
<p class="reference">Referenced by <a class="el" href="a00150.html#af0a6b39e1a4c8ba3a00d790253aab15c">DataLogger.optical_flow()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a3cff34c024334cefe903de3058e3a991_icgraph.png" border="0" usemap="#aa00150_a3cff34c024334cefe903de3058e3a991_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a147ee854723ad7ce299aca8f95599f2c" name="a147ee854723ad7ce299aca8f95599f2c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a147ee854723ad7ce299aca8f95599f2c">&#9670;&#160;</a></span>paused()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">paused </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_number</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>pause_type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracker_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records what initiated the pause, and for how long the pause existed for.

This requires an external timer, and will be recorded when *Play* has been selected.
</pre> <div class="fragment"><div class="line"><span class="lineno">  210</span>    <span class="keyword">def </span>paused(self, frame_number, pause_type, timer_id, tracker_id):</div>
<div class="line"><span class="lineno">  211</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  212</span><span class="stringliteral">        Records what initiated the pause, and for how long the pause existed for.</span></div>
<div class="line"><span class="lineno">  213</span><span class="stringliteral"></span> </div>
<div class="line"><span class="lineno">  214</span><span class="stringliteral">        This requires an external timer, and will be recorded when *Play* has been selected.</span></div>
<div class="line"><span class="lineno">  215</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  216</span>        time_started = self.start_timer(timer_id)</div>
<div class="line"><span class="lineno">  217</span>        </div>
<div class="line"><span class="lineno">  218</span>        data = [</div>
<div class="line"><span class="lineno">  219</span>            frame_number,</div>
<div class="line"><span class="lineno">  220</span>            time_started,</div>
<div class="line"><span class="lineno">  221</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  222</span>            <span class="stringliteral">&quot;Pause&quot;</span>,</div>
<div class="line"><span class="lineno">  223</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  224</span>            self.intervention_level,</div>
<div class="line"><span class="lineno">  225</span>            pause_type,</div>
<div class="line"><span class="lineno">  226</span>            tracker_id</div>
<div class="line"><span class="lineno">  227</span>        ]</div>
<div class="line"><span class="lineno">  228</span>        self.paused_data[timer_id] = data</div>
<div class="line"><span class="lineno">  229</span>        <span class="comment"># print(self.logger_df)</span></div>
<div class="line"><span class="lineno">  230</span>        </div>
<div class="line"><span class="lineno">  231</span>    </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#a10d41eee6e85dbc18db528607f7641be">DataLogger.intervention_level</a>, DataLogger.paused_data, and <a class="el" href="a00150.html#a18b9423164131f6a5cb5cb80069e0d2f">DataLogger.start_timer()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a147ee854723ad7ce299aca8f95599f2c_cgraph.png" border="0" usemap="#aa00150_a147ee854723ad7ce299aca8f95599f2c_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="ac17ffb0fb99926c99dcaab63b5335243" name="ac17ffb0fb99926c99dcaab63b5335243"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac17ffb0fb99926c99dcaab63b5335243">&#9670;&#160;</a></span>plot_chars_df()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">plot_chars_df </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">
<div class="fragment"><div class="line"><span class="lineno">  635</span>    <span class="keyword">def </span>plot_chars_df(self):</div>
<div class="line"><span class="lineno">  636</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  637</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a5f192965f59bcadd25871fc878cd1962" name="a5f192965f59bcadd25871fc878cd1962"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5f192965f59bcadd25871fc878cd1962">&#9670;&#160;</a></span>record_errors()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">record_errors </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Not implemented
</pre> <div class="fragment"><div class="line"><span class="lineno">  287</span>    <span class="keyword">def </span>record_errors(self, frame):</div>
<div class="line"><span class="lineno">  288</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  289</span><span class="stringliteral">        Not implemented</span></div>
<div class="line"><span class="lineno">  290</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  291</span>        <span class="keywordflow">pass</span></div>
<div class="line"><span class="lineno">  292</span> </div>
</div><!-- fragment -->
</div>
</div>
<a id="a286d618835528c9cf90218dd6cd8e546" name="a286d618835528c9cf90218dd6cd8e546"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a286d618835528c9cf90218dd6cd8e546">&#9670;&#160;</a></span>slider_moved()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">slider_moved </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>frame_from</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>tracker_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Records when the slider was changed, where from, and where to.
</pre> <div class="fragment"><div class="line"><span class="lineno">  249</span>    <span class="keyword">def </span>slider_moved(self, frame_from, timer_id, tracker_id):</div>
<div class="line"><span class="lineno">  250</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  251</span><span class="stringliteral">        Records when the slider was changed, where from, and where to.</span></div>
<div class="line"><span class="lineno">  252</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  253</span>        <span class="keywordflow">if</span> timer_id <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.timer_dict.keys():</div>
<div class="line"><span class="lineno">  254</span>            <span class="comment"># print(&quot;Recording Slider&quot;)</span></div>
<div class="line"><span class="lineno">  255</span>            time_started = self.start_timer(timer_id)</div>
<div class="line"><span class="lineno">  256</span>            data = [</div>
<div class="line"><span class="lineno">  257</span>            frame_from,</div>
<div class="line"><span class="lineno">  258</span>            time_started,</div>
<div class="line"><span class="lineno">  259</span>            0,</div>
<div class="line"><span class="lineno">  260</span>            <span class="stringliteral">&quot;Slider&quot;</span>,</div>
<div class="line"><span class="lineno">  261</span>            <span class="keywordtype">None</span>,</div>
<div class="line"><span class="lineno">  262</span>            self.intervention_level,</div>
<div class="line"><span class="lineno">  263</span>            <span class="stringliteral">&quot;USER&quot;</span>,</div>
<div class="line"><span class="lineno">  264</span>            tracker_id</div>
<div class="line"><span class="lineno">  265</span>            ]</div>
<div class="line"><span class="lineno">  266</span>            self.slider_data[timer_id] = data</div>
<div class="line"><span class="lineno">  267</span>            <span class="comment"># print(self.logger_df)</span></div>
<div class="line"><span class="lineno">  268</span>    </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#a10d41eee6e85dbc18db528607f7641be">DataLogger.intervention_level</a>, DataLogger.slider_data, <a class="el" href="a00150.html#a18b9423164131f6a5cb5cb80069e0d2f">DataLogger.start_timer()</a>, and DataLogger.timer_dict.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a286d618835528c9cf90218dd6cd8e546_cgraph.png" border="0" usemap="#aa00150_a286d618835528c9cf90218dd6cd8e546_cgraph" alt=""/></div>
</div>

</div>
</div>
<a id="af1d3c1fa3e44db6ab404e162bd264d00" name="af1d3c1fa3e44db6ab404e162bd264d00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af1d3c1fa3e44db6ab404e162bd264d00">&#9670;&#160;</a></span>start_recording()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">start_recording </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>User input logging starts here #. </p>
<pre class="fragment">Starts the recording timer
</pre> <div class="fragment"><div class="line"><span class="lineno">  125</span>    <span class="keyword">def </span>start_recording(self):</div>
<div class="line"><span class="lineno">  126</span>       </div>
<div class="line"><span class="lineno">  127</span>        <span class="stringliteral">&#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  128</span><span class="stringliteral">        Starts the recording timer</span></div>
<div class="line"><span class="lineno">  129</span><span class="stringliteral">        &#39;&#39;&#39;</span></div>
<div class="line"><span class="lineno">  130</span>        start_time = time.time()</div>
<div class="line"><span class="lineno">  131</span>        self.timer_dict[self.start_time_id] = (start_time, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  132</span>    </div>
</div><!-- fragment -->
<p class="reference">References DataLogger.start_time_id, and DataLogger.timer_dict.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#a18b9423164131f6a5cb5cb80069e0d2f">DataLogger.start_timer()</a>.</p>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_af1d3c1fa3e44db6ab404e162bd264d00_icgraph.png" border="0" usemap="#aa00150_af1d3c1fa3e44db6ab404e162bd264d00_icgraph" alt=""/></div>
</div>

</div>
</div>
<a id="a18b9423164131f6a5cb5cb80069e0d2f" name="a18b9423164131f6a5cb5cb80069e0d2f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18b9423164131f6a5cb5cb80069e0d2f">&#9670;&#160;</a></span>start_timer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">start_timer </td>
          <td>(</td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">&#160;</td>
          <td class="paramname"><em>timer_id</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<pre class="fragment">Starts the timer from when the project is initiated
</pre> <div class="fragment"><div class="line"><span class="lineno">  141</span>    <span class="keyword">def </span>start_timer(self, timer_id):</div>
<div class="line"><span class="lineno">  142</span>        <span class="stringliteral">&quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  143</span><span class="stringliteral">        Starts the timer from when the project is initiated</span></div>
<div class="line"><span class="lineno">  144</span><span class="stringliteral">        &quot;&quot;&quot;</span></div>
<div class="line"><span class="lineno">  145</span> </div>
<div class="line"><span class="lineno">  146</span>        <span class="comment"># We start recording when the first action is done</span></div>
<div class="line"><span class="lineno">  147</span>        <span class="keywordflow">if</span> self.start_time_id <span class="keywordflow">not</span> <span class="keywordflow">in</span> self.timer_dict:</div>
<div class="line"><span class="lineno">  148</span>            self.start_recording()</div>
<div class="line"><span class="lineno">  149</span> </div>
<div class="line"><span class="lineno">  150</span>        start_record = self.timer_dict[self.start_time_id][0]</div>
<div class="line"><span class="lineno">  151</span>        start_time = time.time() - start_record</div>
<div class="line"><span class="lineno">  152</span>        self.timer_dict[timer_id] = (start_time, <span class="keywordtype">None</span>)</div>
<div class="line"><span class="lineno">  153</span>        <span class="keywordflow">return</span> start_time</div>
<div class="line"><span class="lineno">  154</span> </div>
</div><!-- fragment -->
<p class="reference">References <a class="el" href="a00150.html#af1d3c1fa3e44db6ab404e162bd264d00">DataLogger.start_recording()</a>, DataLogger.start_time_id, and DataLogger.timer_dict.</p>

<p class="reference">Referenced by <a class="el" href="a00150.html#a2df6891576c591b86e3bf2e6a86e380e">DataLogger.adjustment()</a>, <a class="el" href="a00150.html#a147ee854723ad7ce299aca8f95599f2c">DataLogger.paused()</a>, and <a class="el" href="a00150.html#a286d618835528c9cf90218dd6cd8e546">DataLogger.slider_moved()</a>.</p>
<div class="dynheader">
Here is the call graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a18b9423164131f6a5cb5cb80069e0d2f_cgraph.png" border="0" usemap="#aa00150_a18b9423164131f6a5cb5cb80069e0d2f_cgraph" alt=""/></div>
</div>
<div class="dynheader">
Here is the caller graph for this function:</div>
<div class="dyncontent">
<div class="center"><img src="a00150_a18b9423164131f6a5cb5cb80069e0d2f_icgraph.png" border="0" usemap="#aa00150_a18b9423164131f6a5cb5cb80069e0d2f_icgraph" alt=""/></div>
</div>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>K:/Github/PeopleTracker/src/<b>datalogger.py</b></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><b>PeopleTracker</b></li><li class="navelem"><b>src</b></li><li class="navelem"><b>datalogger</b></li><li class="navelem"><a class="el" href="a00150.html">DataLogger</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.8 </li>
  </ul>
</div>
</body>
</html>
